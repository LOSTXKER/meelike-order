# Meelike Issue & Order Management System (MIMS)

## 1. Background & Problem
‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô Meelike ‡πÉ‡∏ä‡πâ Notion ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (Line / Ticket / Provider) ‡∏ã‡∏∂‡πà‡∏á‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠:
- ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏ö‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° SLA ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡∏¢‡∏≤‡∏Å
- ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∞‡∏ö‡∏ö (Recurring / Provider Issue) ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
- ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏°‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ó‡∏ô Notion ‡πÅ‡∏•‡∏∞‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ (Operational System)

---

## 2. Objectives
1. ‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏ß‡πâ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏ö‡∏ö Real-time
3. ‡∏•‡∏î‡∏á‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡∏°
4. ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤ Product ‡πÅ‡∏•‡∏∞ Provider
5. ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô SaaS ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

---

## 3. Core Concept
- 1 ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ = 1 Case ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï (‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞, ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥, Owner)
- ‡πÉ‡∏ä‡πâ State Machine ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Tag
- ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô Timeline

---

## 4. Core Modules

> **Design Principle (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):**
> ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á **‡∏•‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï + ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á** ‡πÇ‡∏î‡∏¢‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (‡πÄ‡∏ä‡πà‡∏ô Refund Automation)



> **Design Principle (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):**
> ‡∏ó‡∏∏‡∏Å‡πÄ‡∏Ñ‡∏™‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏±‡∏î‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤ **‡πÉ‡∏Ñ‡∏£‡∏ó‡∏≥ ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£ ‡∏ä‡πâ‡∏≤‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏∞‡πÑ‡∏£ ‡πÅ‡∏•‡∏∞‡∏î‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏¢‡πà** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á



> **Design Principle (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):**
> ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÑ‡∏î‡πâ 2 ‡∏ó‡∏≤‡∏á (Admin ‚Üî ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‚Üî ‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏Å) ‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ñ‡∏≤‡∏°‡∏ã‡πâ‡∏≥



> **Design Principle (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):**
> ‡∏ó‡∏∏‡∏Å Select / Tag ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà Dropdown ‡πÉ‡∏ô Notion ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô **Master Data ‡∏ó‡∏µ‡πà‡∏°‡∏µ Logic, SLA ‡πÅ‡∏•‡∏∞ Automation**



> **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (Critical Requirement):**
> ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏ì‡∏µ **"‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤"** ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏™‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö Real-time ‡∏ú‡πà‡∏≤‡∏ô Line Messenger API ‡∏ó‡∏µ‡πà‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡πÑ‡∏°‡πà‡∏û‡∏∂‡πà‡∏á Dev ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á



### 4.1 Case Management
- Case ID (Auto)
- Source (Line / Ticket / API / Manual)
- Customer Info (Username, User ID)
- Linked Orders (Multiple)
- **Case Type (Configurable Master Data)**
- Severity (Auto from Case Type)
- Status (State Machine)
- Owner (Support / Admin)
- SLA Deadline (Auto from Case Type)
- Root Cause (Required on close)

---

### 4.1.1 Case Type Settings (NEW)
> ‡πÅ‡∏ó‡∏ô Select ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤‡πÉ‡∏ô Notion

**Case Type Fields**
- Name (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤, ‡∏¢‡∏≠‡∏î‡πÑ‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô)
- Category (Payment / Order / System / Provider / Other)
- Default Severity (Critical / High / Normal / Low)
- Default SLA (‡πÄ‡∏ä‡πà‡∏ô 15 ‡∏ô‡∏≤‡∏ó‡∏µ, 2 ‡∏ä‡∏°.)
- Require Provider (Yes/No)
- Require Order ID (Yes/No)
- Line Notification (Enable/Disable)
- Escalation Rule (When SLA Missed)

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á**
- ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤
  - Category: Payment
  - Severity: Critical
  - SLA: 15 ‡∏ô‡∏≤‡∏ó‡∏µ
  - Line Notify: Yes

---

- Case ID (Auto)
- Source (Line / Ticket / API / Manual)
- Customer Info (Username, User ID)
- Linked Orders (Multiple)
- Issue Type (Payment, Order, System, Provider, Other)
- Severity (Critical / High / Normal / Low)
- Status:
  - New
  - Investigating
  - Waiting Customer
  - Waiting Provider
  - Fixing
  - Resolved
  - Closed
- Owner (Support / Admin)
- SLA Deadline
- Root Cause (Required on close)

---

### 4.2 Timeline & Activity Log
- ‡∏ó‡∏∏‡∏Å Action ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤ (Immutable)
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Note, File, Screenshot

---

### 4.3 Order & Transaction Linking
- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° Case ‡∏Å‡∏±‡∏ö Order ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Order (Amount, Status, Provider)
- ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô (Topup / Deduct / Refund)

---

### 4.4 Provider Intelligence
- Provider Profile
- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° Provider
- ‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢
- % Refund / Cancel
- Provider Risk Level (Auto)

---

### 4.4.1 Provider Management Settings (NEW)
> ‡∏à‡∏≤‡∏Å Select Provider ‚Üí Provider ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏°‡∏≠‡∏á

**Provider Fields**
- Provider Name
- Provider Type (API / Manual)
- Supported Case Types
- Default SLA
- Contact Channel
- Notification Preference
- Risk Level (Calculated)
- Active / Pause Status

**Logic Integration**
- Case Type + Provider = Notification Rule
- Provider ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ã‡πâ‡∏≥ ‚Üí Auto Flag

---

- Provider Profile
- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° Provider
- ‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢
- % Refund / Cancel
- Provider Risk Level

---

### 4.5 Automation & Rules Engine
- Auto Severity ‡∏à‡∏≤‡∏Å Issue Type
- SLA Monitor & Alert
- Provider Alert (‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ã‡πâ‡∏≥)
- High-Risk Customer Detection

---

### 4.6 Dashboard & Reporting
- Case by Status / Severity
- SLA Missed / SLA Met
- Average Resolution Time
- Top Problem Provider
- Recurring Issue

---

### 4.6.1 Time Tracking System (NEW)

‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏≠‡∏á)

**‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á**
- Time to First Response (‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏Ñ‡∏™‡πÄ‡∏Ç‡πâ‡∏≤ ‚Üí ‡∏°‡∏µ‡∏Ñ‡∏ô‡∏£‡∏±‡∏ö)
- Active Working Time (‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Investigating / Fixing)
- Waiting Time (‡∏£‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ / ‡∏£‡∏≠ Provider)
- Total Resolution Time (‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡∏¥‡∏î ‚Üí ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏™)

**Logic**
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Status = ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡πÅ‡∏¢‡∏Å‡∏ä‡∏±‡∏î‡∏ß‡πà‡∏≤ "‡∏ä‡πâ‡∏≤‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÉ‡∏Ñ‡∏£" ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏£‡∏ß‡∏°

---

### 4.6.2 Staff Performance Evaluation (CEO View) (NEW)

Dashboard ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö CEO / Manager ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

**Metric ‡∏ï‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô**
- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏Ñ‡∏™‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö
- % ‡πÄ‡∏Ñ‡∏™‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ï‡∏≤‡∏° SLA
- Avg. Response Time
- Avg. Resolution Time
- ‡πÄ‡∏Ñ‡∏™ Critical ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö
- ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô Performance (Auto Score)

**Performance Score ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á**
- SLA Compliance 40%
- Response Speed 30%
- Case Load 20%
- Customer Impact 10%

---

### 4.6.3 Performance Comparison & Trend
- ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏≤‡∏¢‡∏Ñ‡∏ô / ‡∏£‡∏≤‡∏¢‡∏ó‡∏µ‡∏°
- ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏¢‡πà‡∏•‡∏á (Week / Month)
- Highlight:
  - Top Performer
  - Bottleneck Staff

---

- Case by Status / Severity
- SLA Missed
- Top Problem Provider
- Recurring Issue
- **Realtime Alert Panel (Topup Failed / Payment Issue)**

---

### 4.7 Realtime Alert & Line Notification System

> ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏° **Admin, Support ‡πÅ‡∏•‡∏∞‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤**

#### 4.7.1 Customer Line Notification (NEW)
‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á Line ‡πÑ‡∏õ‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠:
- ‡πÄ‡∏Ñ‡∏™‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏¥‡∏ß‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
- ‡πÄ‡∏Ñ‡∏™‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£
- ‡πÄ‡∏Ñ‡∏™‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß

**Event ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á**
- üü° ‡πÄ‡∏Ñ‡∏™‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
- üîß ‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì
- ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß

**Message Template (Admin ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ)**
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£: {{case_id}}, {{order_id}}, {{status}}, {{eta}}

---

#### 4.7.2 Case Tracking Page (Customer)
- ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏Ñ‡∏™‡πÑ‡∏î‡πâ
- ‡πÅ‡∏™‡∏î‡∏á:
  - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
  - ‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£ (ETA)
  - ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï

- ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô:
  - ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÉ‡∏ô Line
  - ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á Login / Token-based)

---

#### 4.7.3 Line Group & VIP Support (NEW)
‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ VIP ‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏•‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏° Line

**Feature**
- ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:
  - ‡πÄ‡∏û‡∏¥‡πà‡∏° Bot ‡πÄ‡∏Ç‡πâ‡∏≤ Group ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ (Invite Link)
  - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Group ‡πÄ‡∏õ‡πá‡∏ô Notification Channel
  - ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Case Type ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÑ‡∏î‡πâ

- ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:
  - 1 Case ‚Üí ‡πÅ‡∏à‡πâ‡∏á‡∏´‡∏•‡∏≤‡∏¢ Channel (Private + Group)
  - ‡πÅ‡∏¢‡∏Å Group ‡∏ï‡πà‡∏≠ VIP / Partner

---

#### 4.7.4 Admin Line Management UX
- ‡∏´‡∏ô‡πâ‡∏≤ Line Settings
- ‡πÄ‡∏û‡∏¥‡πà‡∏° Line Channel / Bot ‡πÑ‡∏î‡πâ‡πÄ‡∏≠‡∏á
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (User / Group)
- Test Message
- ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Event

---



#### 4.7.1 Critical Use Case: ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå:
  - Payment ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÅ‡∏ï‡πà‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤
  - Topup Pending ‡πÄ‡∏Å‡∏¥‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
  - Webhook Payment Fail / Timeout

- ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á **Critical Case ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥**
  - Severity = Critical
  - SLA = Immediate (‡πÄ‡∏ä‡πà‡∏ô 10‚Äì15 ‡∏ô‡∏≤‡∏ó‡∏µ)
  - Tag = Topup / Payment

#### 4.7.2 Line Notification Architecture
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Line Messaging API
- ‡πÑ‡∏°‡πà hardcode token ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
- ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° Line ‡πÑ‡∏î‡πâ‡πÄ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤ UI

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡πà‡∏≠ Line Channel:**
- Channel Name
- Channel Access Token (Encrypt)
- Default Notify Group / User
- Event ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (Toggle ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î)

#### 4.7.3 Line Notification Events
- ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤ (Critical)
- SLA ‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î / ‡πÄ‡∏Å‡∏¥‡∏ô SLA
- Provider ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö‡πÄ‡∏Å‡∏¥‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ
- Case Severity ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Critical

#### 4.7.4 Message Template (Configurable)
- ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÅ‡∏Å‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏≠‡∏á
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£:
  - {{case_id}}
  - {{username}}
  - {{amount}}
  - {{order_id}}
  - {{provider}}
  - {{elapsed_time}}

#### 4.7.5 UX: Line Connection Flow
1. Admin ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π "Notification Settings"
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Line
3. ‡∏ß‡∏≤‡∏á Channel Access Token
4. ‡∏Å‡∏î Test ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
5. ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Event ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

---

- Case by Status / Severity
- SLA Missed
- Top Problem Provider
- Recurring Issue

---

## 5. User Roles
- Admin: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- Support: ‡∏£‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÄ‡∏Ñ‡∏™
- Manager: ‡∏î‡∏π‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ó‡∏µ‡∏°
- **CEO: ‡∏î‡∏π Performance, SLA, Trend (Read-only + Decision View)**

---

- Admin: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- Support: ‡∏£‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÄ‡∏Ñ‡∏™
- Manager: ‡∏î‡∏π‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÅ‡∏•‡∏∞ Report

---

## 6. UX Flow (Support)
1. Case ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Source
2. Support ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Case Type**
3. ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î Severity, SLA, Notification ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
4. Support ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Provider (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
5. ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ Logic ‡∏à‡∏≤‡∏Å Provider Settings
6. ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Timeline
7. ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏™‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏∏ Root Cause

---

## 6.1 UX/UI Design System (NEW)

> ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö: **Minimal ‚Ä¢ Apple‚Äëlike ‚Ä¢ Calm ‚Ä¢ Professional**
> ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á **Dark Mode / Light Mode** ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏ä‡∏∏‡∏î‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

### 6.1.1 Color Palette (Based on Provided Colors)

**Core Colors**
- White: `#ffffff`
- Off‚ÄëWhite: `#fffaf6`
- Cream: `#fde8bd`
- Brown: `#937058`
- Soft Yellow: `#fcd77f`
- Dark Olive: `#473b30`
- Black: `#000000`

**Usage Guideline**
- Primary Accent: `#fcd77f`
- Secondary Accent: `#937058`
- Text Primary (Light): `#000000`
- Text Primary (Dark): `#ffffff`
- Background Light: `#fffaf6`
- Background Dark: `#000000`

---

### 6.1.2 Theme System

**Light Mode**
- Background: `#fffaf6`
- Card / Surface: `#ffffff`
- Text: `#000000`
- Divider / Border: `#fde8bd`

**Dark Mode**
- Background: `#000000`
- Card / Surface: `#473b30`
- Text: `#ffffff`
- Divider / Border: `#937058`

---

### 6.1.3 Typography
- Font Family: **Inter / SF Pro‚Äëlike**
- Headline: Medium / Semi‚ÄëBold
- Body: Regular
- ‡πÉ‡∏ä‡πâ spacing ‡πÅ‡∏•‡∏∞ whitespace ‡πÄ‡∏¢‡∏≠‡∏∞

---

### 6.1.4 UI Components Style

- Button: Rounded, flat, no shadow ‡∏´‡∏ô‡∏±‡∏Å
- Card: Soft radius, subtle border
- Table: Clean, no grid ‡∏´‡∏ô‡∏≤
- Status Badge: ‡∏™‡∏µ‡∏≠‡πà‡∏≠‡∏ô ‡πÑ‡∏°‡πà‡∏â‡∏π‡∏î‡∏â‡∏≤‡∏î
- Modal / Drawer: Slide‚Äëin, focus content

---

### 6.1.5 UX Philosophy
- ‡∏•‡∏î cognitive load
- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ 1 = 1 ‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å
- ‡∏™‡∏µ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á
- Animation ‡πÄ‡∏ö‡∏≤ ‡πÜ (100‚Äì150ms)

---

### 6.1.6 Accessibility
- Contrast ‡∏ú‡πà‡∏≤‡∏ô WCAG AA
- Keyboard navigation ‡∏Ñ‡∏£‡∏ö
- Dark mode ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏ö‡∏ï‡∏≤

---

1. Case ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Source
2. Support ‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏™ (Become Owner)
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Order / Transaction
4. ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Timeline
5. ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏™‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏∏ Root Cause

---

## 7. Implementation Phases

### Phase 1 (MVP ‚Äì Replace Notion) ‚Äî Supabase-only
- Case Management (Case Type Settings)
- Status Flow (State Machine)
- Owner Assignment
- Timeline (Immutable)
- Order Linking
- Basic Customer Line Notification (‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏™/‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏¥‡∏ß/‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏™)
- **Outbox + Idempotency ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á Line/Sync**

### Phase 2 (Ops Stability) ‚Äî Supabase-only + Cron
- Time Tracking (Auto)
- Staff Performance Dashboard (CEO/Manager)
- SLA & Escalation (Cron)
- Line Group & VIP Support
- Provider analytics ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

### Phase 3 (Scale & Reliability)
- **Option B: ‡πÄ‡∏û‡∏¥‡πà‡∏° Worker/Queue (Redis + BullMQ) ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏´‡∏ô‡∏±‡∏Å**
- Provider Health Monitor (‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á)
- Abuse Detection
- System Debt Dashboard
- AI Triage (Optional)
- SaaS-ready Architecture (Multi-tenant)

---

## 8. Tech Stack (Recommended)

> ‡∏°‡∏µ 2 ‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÑ‡∏î‡πâ:
> - **Option A (Supabase-only)**: ‡∏ó‡∏≥ MVP ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡πá‡∏ß ‡πÉ‡∏ä‡πâ Supabase + Edge Functions + Cron ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å
> - **Option B (Add Worker Queue later)**: ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏´‡∏ô‡∏±‡∏Å ‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏° Redis + BullMQ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡πà‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡∏î‡∏±‡∏Å‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏ç‡πà


> ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏™‡πÅ‡∏ï‡πá‡∏Å‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ **‡∏ô‡∏¥‡πà‡∏á + ‡πÇ‡∏ï‡πÑ‡∏î‡πâ + ‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô CEO ‡πÇ‡∏´‡∏î ‡πÜ + ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏á‡πà‡∏≤‡∏¢** ‡πÅ‡∏•‡∏∞‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô Background (Line/SLA/Sync) ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ó‡∏≥‡πÄ‡∏ß‡πá‡∏ö‡∏ä‡πâ‡∏≤

### 8.1 Frontend
- **Next.js (App Router) + TypeScript**
- UI: Tailwind + shadcn/ui
- Data Fetching: React Query

### 8.2 Core Platform (DB/Auth/Realtime)
- **Supabase**
  - Postgres (Primary DB)
  - Auth (Admin/Support/Manager/CEO)
  - Realtime (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏Ñ‡∏™/‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î)
  - Storage (‡πÑ‡∏ü‡∏•‡πå/‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô)
- ORM/Schema Management: **Prisma** (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏° schema ‡πÇ‡∏ï ‡πÜ ‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏ß‡∏£‡πå)

### 8.3 Background Jobs (Supabase-only ‚Äì Option A)

> ‡πÉ‡∏ä‡πâ **Supabase Edge Functions + Cron** ‡πÅ‡∏ó‡∏ô worker queue ‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÅ‡∏£‡∏Å

**‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏ô Edge Functions**
- ‡∏™‡πà‡∏á Line ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (Admin/Support/Customer/Group)
- SLA escalation (‡∏ï‡∏£‡∏ß‡∏à SLA ‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô)
- Sync ‡πÑ‡∏õ‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å (Webhook signed)
- Provider health check (‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô)

**Cron Schedule (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)**
- Critical SLA (Topup): ‡∏ó‡∏∏‡∏Å 1 ‡∏ô‡∏≤‡∏ó‡∏µ
- SLA ‡∏õ‡∏Å‡∏ï‡∏¥: ‡∏ó‡∏∏‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ
- Provider health check: ‡∏ó‡∏∏‡∏Å 5‚Äì10 ‡∏ô‡∏≤‡∏ó‡∏µ
- Retry failed notifications: ‡∏ó‡∏∏‡∏Å 1‚Äì2 ‡∏ô‡∏≤‡∏ó‡∏µ

**Supabase-only Requirements (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏û‡∏±‡∏á)**
- Idempotency: ‡∏Å‡∏±‡∏ô‡∏™‡πà‡∏á‡∏ã‡πâ‡∏≥‡∏î‡πâ‡∏ß‡∏¢ event_id
- Outbox pattern: ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á/‡∏ï‡πâ‡∏≠‡∏á sync ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢ process
- Retry + Backoff: ‡∏™‡πà‡∏á‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á retry ‡∏ï‡∏≤‡∏°‡∏£‡∏≠‡∏ö
- Rate limit: ‡∏Å‡∏±‡∏ô‡∏¢‡∏¥‡∏á Line ‡∏ñ‡∏µ‡πà‡∏à‡∏ô‡πÇ‡∏î‡∏ô‡∏à‡∏≥‡∏Å‡∏±‡∏î

---

### 8.3.1 Option B (Add Worker Queue later)
‡πÄ‡∏°‡∏∑‡πà‡∏≠ traffic/‡∏á‡∏≤‡∏ô background ‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°:
- Redis + BullMQ (Worker service ‡πÅ‡∏¢‡∏Å)
- ‡∏¢‡πâ‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏≤‡∏Å Cron/Edge ‡πÑ‡∏õ worker ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£ retry/priority ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤

---

### 8.4 API & Integration
- Internal API: REST (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Admin UI)
- External Sync: **Webhook (Push) + REST Pull (Fallback)**
- Security: **HMAC Signature + Timestamp** (‡∏Å‡∏±‡∏ô‡∏õ‡∏•‡∏≠‡∏°/‡∏Å‡∏±‡∏ô replay)

### 8.5 Observability & Audit
- Error/Performance: **Sentry**
- Audit Log: append-only ‡πÉ‡∏ô DB (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö Timeline ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á)

---

## 8.1 External API Integration (Sync to Meelike Main)

> ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á Supabase-only ‡πÅ‡∏•‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° worker ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï


### 8.1.1 Issue Sync API
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏µ API/Webhook ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏Ñ‡∏™‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å (Meelike Main)

**Use Case**
- ‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å
- ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö / ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç / ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß"

**‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**
- Webhook ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô (‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå)
- REST Pull ‡πÄ‡∏õ‡πá‡∏ô fallback

**API ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á**
- GET /api/issues/active
- GET /api/issues/{order_id}
- POST /webhooks/issues.status_changed (signed)

---

- Frontend: Next.js
- Backend: NestJS
- Database: PostgreSQL
- Realtime: WebSocket
- Notification: Line OA / Slack

---

## 9. Advanced Systems & Future Expansion (CONFIRMED)

> ‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏à‡∏£‡∏¥‡∏á** ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å Core Modules ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏Å
> ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: Supabase-only ‡∏Å‡πá‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÅ‡∏Ñ‡πà‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏∞‡∏ô‡∏¥‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° worker queue ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï


> ‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏à‡∏£‡∏¥‡∏á** ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å Core Modules ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏Å

---

### 9.1 Root Cause & System Debt Tracking (NEW)
- ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Root Cause ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏™
  - Provider Issue
  - Payment Gateway
  - System Bug
  - User Error
  - Process Error
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ã‡πâ‡∏≥ (Recurring Issue)
- Flag ‡πÄ‡∏õ‡πá‡∏ô **System Debt** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡∏° Dev / Product
- Dashboard ‡πÅ‡∏™‡∏î‡∏á System Debt ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á

---

### 9.2 Knowledge Base & SOP System (NEW)
- ‡∏ú‡∏π‡∏Å Case Type ‚Üí ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô (SOP)
- Support ‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏™
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÅ‡∏ô‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå / ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô / Note ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
- ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏à‡∏≤‡∏Å‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏ã‡πâ‡∏≥

---

### 9.3 Provider Health Monitor (NEW)
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° Error Rate / Latency ‡∏Ç‡∏≠‡∏á Provider
- ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ Provider ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
- ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö Provider Risk Level
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î Provider ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß (Manual / Auto)

---

### 9.4 AI Triage & Smart Classification (Optional)
- ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ Case Type / Severity
- ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏Ñ‡∏™‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á
- ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏° Phase

---

### 9.5 Refund Integration (CONFIRMED ‚Äì No Duplicate)
> **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏£‡∏∞‡∏ö‡∏ö Refund ‡∏´‡∏•‡∏±‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà Meelike Main

- Issue System ‡∏à‡∏∞:
  - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Refund ‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å
  - ‡πÅ‡∏™‡∏î‡∏á Refund Status ‡πÉ‡∏ô Timeline
  - ‡∏™‡πà‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Å‡∏≤‡∏£ Refund ‡πÑ‡∏õ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥
  - ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Refund ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Root Cause ‡πÅ‡∏•‡∏∞ System Debt

---

### 9.6 Audit Log & Abuse Detection (NEW)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏™‡∏ö‡πà‡∏≠‡∏¢‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö Refund Pattern ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö Provider ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ã‡πâ‡∏≥
- Flag ‡πÄ‡∏õ‡πá‡∏ô High Risk (Customer / Provider)

---

### 9.7 CEO Decision Dashboard (NEW)
- ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° System Health
- Top System Debt
- Provider ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÅ‡∏Å‡πâ / ‡πÄ‡∏•‡∏¥‡∏Å‡πÉ‡∏ä‡πâ
- Performance ‡∏ó‡∏µ‡∏° Support
- ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (Week / Month)

---

## 10. Success Metrics (FINAL)
- SLA Compliance Rate
- First Response Time
- Average Resolution Time
- Repeat Issue Rate
- System Debt Reduction
- Staff Performance Score
- Notification Delivery Success Rate (Line)
- Sync Success Rate (Meelike Main)

- SLA Compliance Rate
- First Response Time
- Average Resolution Time
- Repeat Issue Rate
- System Debt Reduction
- Staff Performance Score

