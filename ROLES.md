# 👥 คู่มือตำแหน่งและสิทธิ์การใช้งาน

## 🎯 ภาพรวม Workflow

```
┌─────────────────────────────────────────────────────────────────┐
│                          WORKFLOW                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ลูกค้าแจ้งปัญหา                                                 │
│        ↓                                                         │
│  [SUPPORT] รับเรื่อง → สร้างเคส                                   │
│        ↓                                                         │
│  ระบบ auto-assign หรือ [MANAGER] มอบหมายให้ [TECHNICIAN]        │
│        ↓                                                         │
│  [TECHNICIAN] แก้ไขปัญหา → อัพเดทสถานะเป็น "แก้ไขแล้ว"           │
│        ↓                                                         │
│  [SUPPORT] เห็นเคส "รอแจ้งลูกค้า" → แจ้งลูกค้า → ปิดเคส          │
│                                                                  │
│  [CEO] ดูรายงานภาพรวม + ตั้งค่าระบบ + จัดการผู้ใช้               │
│  [MANAGER] ตรวจสอบ Workload + ช่วยแก้เคสยาก                      │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 1️⃣ CEO - ผู้ดูแลระบบสูงสุด (Full Access)

### 🎯 หน้าที่หลัก
- **ดูรายงานภาพรวม** → ตัดสินใจเชิงกลยุทธ์
- **ตั้งค่าระบบทั้งหมด** → Case Types, Webhooks, Notifications
- **จัดการผู้ใช้** → เพิ่ม/ลบ/แก้ไข/เปลี่ยน Role
- **ช่วยแก้ไขเคส** → เมื่อจำเป็น

### ✅ สิทธิ์การใช้งาน
| Feature | สิทธิ์ |
|---------|--------|
| สร้างเคส | ✅ ได้ |
| ดูเคส | ✅ ทุกเคส |
| แก้ไขเคส | ✅ ทุกเคส |
| ปิดเคส | ✅ ทุกสถานะ |
| มอบหมายงาน | ✅ ได้ |
| จัดการผู้ใช้ | ✅ เพิ่ม/ลบ/แก้ไข |
| ตั้งค่าระบบ | ✅ ครบทุกอย่าง |
| ดูรายงาน | ✅ ทั้งหมด |

---

## 2️⃣ MANAGER - ดูภาพรวม/ดูแลทีม

### 🎯 หน้าที่หลัก
- **ดูแลและมอบหมายงานให้ทีม**
- **ตรวจสอบ SLA และ Workload**
- **ช่วย TECHNICIAN แก้ไขเคสยาก**
- **วิเคราะห์รายงานทีม**

### ✅ สิทธิ์การใช้งาน
| Feature | สิทธิ์ |
|---------|--------|
| สร้างเคส | ✅ ได้ |
| ดูเคส | ✅ **ทุกเคส** |
| แก้ไขเคส | ✅ ทุกเคส |
| เปลี่ยนสถานะ | ✅ ทุกสถานะ |
| มอบหมายงาน | ✅ ได้ |
| จัดการผู้ใช้ | ❌ (เฉพาะ CEO) |
| ตั้งค่า Case Types | ✅ ได้ |
| ดูรายงาน | ✅ ของทีม |

### 📱 การใช้งานตามขั้นตอน
```
1. เช็ค Dashboard → ดู Workload ของทีม
2. จัดสรรงาน → Re-assign เคสให้เหมาะสม
3. ช่วยแก้เคสที่ยาก → เปลี่ยนสถานะได้เอง
4. ตรวจสอบ SLA → แจ้งเตือนเมื่อเคสค้างนาน
5. ดูรายงานประจำวัน/สัปดาห์
```

---

## 3️⃣ SUPPORT - รับเรื่อง/แจ้งลูกค้า

### 🎯 หน้าที่หลัก
- **รับเรื่องจากลูกค้า** → Line/Phone/Email
- **สร้างเคสในระบบ** → กรอกรายละเอียด
- **แจ้งผลการแก้ไขให้ลูกค้า** → เมื่อ TECHNICIAN แก้เสร็จ
- **ปิดเคส** → หลังจากแจ้งลูกค้าแล้ว

### ✅ สิทธิ์การใช้งาน
| Feature | สิทธิ์ |
|---------|--------|
| สร้างเคส | ✅ **ได้ (หน้าที่หลัก)** |
| ดูเคส | ✅ **ทุกเคส** |
| แก้ไขเคส | ✅ ทุกเคส |
| เปลี่ยนสถานะ | ✅ ทุกสถานะ |
| ปิดเคส (CLOSED) | ✅ **ได้ (หลังแจ้งลูกค้า)** |
| มอบหมายงาน | ❌ |
| จัดการผู้ใช้ | ❌ |
| ตั้งค่าระบบ | ❌ |
| ดูรายงาน | ✅ ทั้งหมด |

### 📱 การใช้งานตามขั้นตอน
```
1. ลูกค้าแจ้งปัญหาเข้ามา (Line/Phone/Email)
2. SUPPORT สร้างเคส → ระบบ auto-assign ให้ TECHNICIAN
3. รอ TECHNICIAN แก้ไข → เมื่อเป็น "แก้ไขแล้ว" (RESOLVED)
4. SUPPORT แจ้งลูกค้า → ปิดเคส (CLOSED)
```

---

## 4️⃣ TECHNICIAN - คนแก้ปัญหา

### 🎯 หน้าที่หลัก
- **รับเคสที่ถูก assign** → รับแจ้งเตือนผ่าน Line
- **ตรวจสอบและแก้ไขปัญหา**
- **อัพเดทสถานะเคส** → NEW → FIXING → RESOLVED
- **อัพเดทสถานะ Orders** → PENDING → PROCESSING → COMPLETED/FAILED/REFUNDED

### ✅ สิทธิ์การใช้งาน
| Feature | สิทธิ์ |
|---------|--------|
| สร้างเคส | ❌ **ห้ามสร้าง** |
| ดูเคส | ✅ **เฉพาะของตัวเอง** |
| แก้ไขเคส | ✅ ที่ได้รับมอบหมาย |
| เปลี่ยนสถานะ | ✅ ถึง RESOLVED |
| เปลี่ยนสถานะ Order | ✅ ทุกสถานะ |
| ปิดเคส (CLOSED) | ❌ **ห้าม** (ต้องให้ SUPPORT ปิด) |
| จัดการผู้ใช้ | ❌ |
| ตั้งค่าระบบ | ❌ |
| ดูรายงาน | ✅ เฉพาะของตัวเอง |

### 📱 การใช้งานตามขั้นตอน
```
1. ได้รับแจ้งเตือน Line "มีเคสใหม่ถูก assign ให้คุณ"
2. เข้าระบบ → ดู "งานของฉัน" (ดูเฉพาะเคสตัวเอง)
3. เปลี่ยนสถานะ "กำลังแก้ไข" (FIXING)
4. แก้ไขปัญหา → อัพเดทสถานะ Order
5. เมื่อเสร็จสิ้น → เปลี่ยนเป็น "แก้ไขแล้ว" (RESOLVED)
6. SUPPORT จะเป็นคนแจ้งลูกค้าและปิดเคส
```

---

## 🔐 สรุปสิทธิ์แบบเปรียบเทียบ

| Feature | CEO | MANAGER | SUPPORT | TECHNICIAN |
|---------|-----|---------|---------|------------|
| 👀 ดูเคส | ✅ ทั้งหมด | ✅ ทั้งหมด | ✅ ทั้งหมด | ⚠️ **เฉพาะตัวเอง** |
| ➕ สร้างเคส | ✅ | ✅ | ✅ | ❌ **ห้าม** |
| ✏️ แก้ไขเคส | ✅ ทั้งหมด | ✅ ทั้งหมด | ✅ ทั้งหมด | ✅ ของตัวเอง |
| 🔄 เปลี่ยนสถานะ | ✅ ทั้งหมด | ✅ ทั้งหมด | ✅ ทั้งหมด | ✅ ถึง RESOLVED |
| 🔒 ปิดเคส (CLOSED) | ✅ | ✅ | ✅ | ❌ **ห้าม** |
| 📦 จัดการ Orders | ✅ | ✅ | ✅ | ✅ |
| 👥 มอบหมายงาน | ✅ | ✅ | ❌ | ❌ |
| ⚙️ ตั้งค่าระบบ | ✅ | ✅ บางส่วน | ❌ | ❌ |
| 👤 จัดการผู้ใช้ | ✅ | ❌ | ❌ | ❌ |
| 📊 รายงาน | ✅ ทั้งหมด | ✅ ของทีม | ✅ ทั้งหมด | ✅ ของตัวเอง |

---

## 💡 คำแนะนำการใช้งาน

### สำหรับ CEO
- ใช้ Dashboard ดูภาพรวมและ KPIs
- จัดการผู้ใช้และตั้งค่าระบบใน Settings
- ช่วยเหลือทีมเมื่อมีปัญหาซับซ้อน

### สำหรับ MANAGER
- เช็ค Workload Dashboard เพื่อดูว่าใครมีงานมากเกินไป
- ช่วยจัดสรร Re-assign เคสให้เหมาะสม
- ช่วย TECHNICIAN แก้เคสยากๆ

### สำหรับ SUPPORT
- ใช้ Dashboard banner สีเหลือง "รอแจ้งลูกค้า" เพื่อติดตามเคสที่ TECHNICIAN แก้แล้ว
- สร้าง Template ข้อความไว้ส่งลูกค้า เพื่อประหยัดเวลา
- ปิดเคสหลังจากแจ้งลูกค้าเรียบร้อย

### สำหรับ TECHNICIAN
- ใช้หน้าเคสเลย → ระบบจะแสดงเฉพาะเคสของคุณอัตโนมัติ
- อัพเดทสถานะบ่อยๆ เพื่อให้ SUPPORT และลูกค้าทราบความคืบหน้า
- **หมายเหตุ**: ไม่สามารถสร้างเคสหรือปิดเคสได้ (ต้องให้ SUPPORT ทำ)

---

## 👤 การจัดการผู้ใช้งาน

### ➕ วิธีเพิ่มผู้ใช้ใหม่

1. **เข้าหน้า Settings → Users** (เฉพาะ CEO)
2. **คลิกปุ่ม "+ เพิ่มผู้ใช้"**
3. **กรอกข้อมูล:**
   - **ชื่อ-นามสกุล**: ชื่อเต็มของผู้ใช้
   - **อีเมล**: ใช้สำหรับ Login (ต้องไม่ซ้ำ)
   - **รหัสผ่าน**: ตั้งรหัสผ่านเริ่มต้น
   - **ตำแหน่ง (Role)**: เลือกตามหน้าที่
     - `CEO` - ผู้ดูแลระบบสูงสุด (สิทธิ์เต็ม)
     - `MANAGER` - ดูภาพรวม/ดูแลทีม
     - `SUPPORT` - รับเรื่อง/แจ้งลูกค้า
     - `TECHNICIAN` - คนแก้ปัญหา (ดูเฉพาะเคสตัวเอง)

4. **คลิก "สร้างผู้ใช้"**

### ✏️ การแก้ไข Role

**เฉพาะ CEO เท่านั้นที่เปลี่ยน Role ได้:**

1. ไปที่ **Settings → Users**
2. หา User ที่ต้องการแก้ไข
3. **คลิก Badge Role** (CEO/MANAGER/SUPPORT/TECHNICIAN)
4. **เลือก Role ใหม่** จาก Dropdown
5. ระบบจะบันทึกอัตโนมัติ

### 🔐 การเปลี่ยนรหัสผ่าน

**ผู้ใช้สามารถเปลี่ยนรหัสผ่านเองได้:**
1. คลิกที่ **ชื่อผู้ใช้** มุมขวาบน
2. เลือก **"เปลี่ยนรหัสผ่าน"**
3. กรอกรหัสผ่านเก่าและรหัสผ่านใหม่
4. ยืนยัน

**CEO สามารถรีเซ็ตรหัสผ่านให้ได้:**
1. ไปที่ **Settings → Users**
2. คลิกไอคอน **"รีเซ็ตรหัสผ่าน"** ที่ User นั้น
3. ตั้งรหัสผ่านใหม่
4. แจ้งผู้ใช้ให้เปลี่ยนรหัสผ่านหลัง Login

### 🗑️ การลบผู้ใช้

**⚠️ Hard Delete - ลบถาวร ไม่สามารถกู้คืนได้**

1. ไปที่ **Settings → Users**
2. คลิกไอคอน **ถังขยะ 🗑️**
3. ยืนยันการลบ
4. ระบบจะ:
   - ลบ User ออกจากระบบ
   - ถ้ามีเคสที่ assigned → เปลี่ยนเป็น unassigned
   - เคสจะไม่หาย แต่ไม่มี owner

**หรือ Soft Delete - ปิดใช้งานชั่วคราว:**
1. **ปิด Switch "ใช้งาน"** แทนที่จะลบ
2. User จะ Login ไม่ได้ แต่ข้อมูลยังอยู่
3. เปิดใหม่ได้ตลอดเวลา

### 🛡️ ข้อจำกัดความปลอดภัย

- ❌ **CEO ไม่สามารถลบตัวเองได้**
- ✅ **เฉพาะ CEO เท่านั้น** ที่จัดการผู้ใช้ได้
- ✅ **User ทั่วไปแก้ไขข้อมูลตัวเองได้** (ชื่อ, อีเมล, รหัสผ่าน)
- ✅ **เปลี่ยน Role ได้ทันที** ไม่ต้องให้ผู้ใช้ Login ใหม่

---

## 🔑 ข้อมูลเข้าสู่ระบบ (Development)

| Role | Email | Password | ใช้สำหรับ |
|------|-------|----------|-----------|
| CEO | ceo@meelike.com | password123 | ดูแลระบบ + จัดการผู้ใช้ |
| MANAGER | manager@meelike.com | password123 | ดูภาพรวม + มอบหมายงาน |
| SUPPORT | support@meelike.com | password123 | รับเรื่อง + แจ้งลูกค้า |
| TECHNICIAN | tech.a@meelike.com | password123 | แก้ไขปัญหา |
| TECHNICIAN | tech.b@meelike.com | password123 | แก้ไขปัญหา |

---

## ⚠️ หมายเหตุสำคัญ

- ✅ เปลี่ยนรหัสผ่านหลังติดตั้งทันที
- ✅ CEO ไม่สามารถลบบัญชีตัวเองได้
- ✅ TECHNICIAN ดูได้เฉพาะเคสที่ assigned ให้ตัวเอง
- ✅ TECHNICIAN สร้างเคสและปิดเคสไม่ได้
- ✅ SUPPORT สร้างเคสและปิดเคสได้ (หน้าที่หลัก)
- ✅ MANAGER ดูได้ทุกเคส + มอบหมายงานได้
- ✅ เฉพาะ CEO ที่จัดการ Users ได้
