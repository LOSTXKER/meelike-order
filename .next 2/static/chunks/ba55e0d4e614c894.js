(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24687,e=>{"use strict";var t=e.i(43476),i=e.i(75157);function r({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,i.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},93479,e=>{"use strict";var t=e.i(43476),i=e.i(75157);function r({className:e,type:r,...a}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>r])},99682,e=>{"use strict";var t=e.i(71645);function i(e){let i=t.useRef({value:e,previous:e});return t.useMemo(()=>(i.current.value!==e&&(i.current.previous=i.current.value,i.current.value=e),i.current.previous),[e])}e.s(["usePrevious",()=>i])},14764,e=>{"use strict";let t=(0,e.i(75254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},72436,e=>{"use strict";var t=e.i(43476),i=e.i(71645),r=e.i(48425),a="horizontal",s=["horizontal","vertical"],n=i.forwardRef((e,i)=>{var n;let{decorative:o,orientation:l=a,...d}=e,c=(n=l,s.includes(n))?l:a;return(0,t.jsx)(r.Primitive.div,{"data-orientation":c,...o?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:i})});n.displayName="Separator";var o=e.i(75157);function l({className:e,orientation:i="horizontal",decorative:r=!0,...a}){return(0,t.jsx)(n,{"data-slot":"separator",decorative:r,orientation:i,className:(0,o.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}e.s(["Separator",()=>l],72436)},21121,e=>{"use strict";var t=e.i(43476),i=e.i(67489),r=e.i(18566),a=e.i(71645),s=e.i(46696);function n({caseId:e,currentStatus:n}){let o=(0,r.useRouter)(),[l,d]=(0,a.useTransition)(),[c,u]=(0,a.useState)(n),p=async t=>{u(t);try{if(!(await fetch(`/api/cases/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok)throw Error("Failed to update status");s.toast.success("อัพเดทสถานะเรียบร้อย"),d(()=>{o.refresh()})}catch{s.toast.error("ไม่สามารถอัพเดทสถานะได้"),u(n)}};return(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(i.Select,{value:c,onValueChange:p,disabled:l,children:[(0,t.jsx)(i.SelectTrigger,{className:"w-[160px]",children:(0,t.jsx)(i.SelectValue,{placeholder:"เปลี่ยนสถานะ"})}),(0,t.jsxs)(i.SelectContent,{children:[(0,t.jsx)(i.SelectItem,{value:"NEW",children:"ใหม่"}),(0,t.jsx)(i.SelectItem,{value:"INVESTIGATING",children:"กำลังตรวจสอบ"}),(0,t.jsx)(i.SelectItem,{value:"WAITING_CUSTOMER",children:"รอลูกค้า"}),(0,t.jsx)(i.SelectItem,{value:"WAITING_PROVIDER",children:"รอ Provider"}),(0,t.jsx)(i.SelectItem,{value:"FIXING",children:"กำลังแก้ไข"}),(0,t.jsx)(i.SelectItem,{value:"RESOLVED",children:"แก้ไขแล้ว"}),(0,t.jsx)(i.SelectItem,{value:"CLOSED",children:"ปิดเคส"})]})]})})}e.s(["CaseActions",()=>n])},58661,e=>{"use strict";var t=e.i(43476),i=e.i(19455),r=e.i(24687),a=e.i(14764),s=e.i(18566),n=e.i(71645),o=e.i(46696);function l({caseId:e}){let l=(0,s.useRouter)(),[d,c]=(0,n.useTransition)(),[u,p]=(0,n.useState)(""),v=async t=>{if(t.preventDefault(),u.trim())try{if(!(await fetch(`/api/cases/${e}/activities`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"NOTE_ADDED",title:"เพิ่มบันทึก",description:u})})).ok)throw Error("Failed to add note");o.toast.success("เพิ่มบันทึกเรียบร้อย"),p(""),c(()=>{l.refresh()})}catch{o.toast.error("ไม่สามารถเพิ่มบันทึกได้")}};return(0,t.jsxs)("form",{onSubmit:v,className:"space-y-3",children:[(0,t.jsx)(r.Textarea,{placeholder:"เพิ่มบันทึก...",className:"min-h-[80px] resize-none",value:u,onChange:e=>p(e.target.value),disabled:d}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(i.Button,{className:"gap-2",type:"submit",disabled:d||!u.trim(),children:[(0,t.jsx)(a.Send,{className:"h-4 w-4"}),"บันทึก"]})})]})}e.s(["AddNoteForm",()=>l])}]);