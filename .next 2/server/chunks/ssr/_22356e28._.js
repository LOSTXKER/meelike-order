module.exports=[6015,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tfoot",{"data-slot":"table-footer",className:(0,c.cn)("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",a),...d})}function h({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function i({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function j({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function k({className:a,...d}){return(0,b.jsx)("caption",{"data-slot":"table-caption",className:(0,c.cn)("text-muted-foreground mt-4 text-sm",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCaption",()=>k,"TableCell",()=>j,"TableFooter",()=>g,"TableHead",()=>i,"TableHeader",()=>e,"TableRow",()=>h])},66718,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(68114);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],70430)},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},29246,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(11011),d=a.i(187),e=a.i(68114);let f=(0,d.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},99464,a=>{"use strict";let b=(0,a.i(70106).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>b],99464)},47961,a=>{"use strict";var b=a.i(87924),c=a.i(18894),d=a.i(99570),e=a.i(66718),f=a.i(70430),g=a.i(29246),h=a.i(91119),i=a.i(14574),j=a.i(80701),k=a.i(6015),l=a.i(86304),m=a.i(15618),n=a.i(99464),o=a.i(68114),p=a.i(72131),q=a.i(23292);let r={PAYMENT:{label:"การเงิน",className:"bg-green-500/10 text-green-600 dark:text-green-400"},ORDER:{label:"ออเดอร์",className:"bg-blue-500/10 text-blue-600 dark:text-blue-400"},SYSTEM:{label:"ระบบ",className:"bg-purple-500/10 text-purple-600 dark:text-purple-400"},PROVIDER:{label:"Provider",className:"bg-orange-500/10 text-orange-600 dark:text-orange-400"},OTHER:{label:"อื่นๆ",className:"bg-gray-500/10 text-gray-600 dark:text-gray-400"}},s={CRITICAL:"วิกฤต",HIGH:"สูง",NORMAL:"ปกติ",LOW:"ต่ำ"};function t(){let[a,t]=(0,p.useState)([]),[u,v]=(0,p.useState)(!0),[w,x]=(0,p.useState)(!1),[y,z]=(0,p.useState)(""),[A,B]=(0,p.useState)("OTHER"),[C,D]=(0,p.useState)("NORMAL"),[E,F]=(0,p.useState)("120"),[G,H]=(0,p.useState)(!1),[I,J]=(0,p.useState)(!1),[K,L]=(0,p.useState)(!1),[M,N]=(0,p.useState)("");(0,p.useEffect)(()=>{O()},[]);let O=()=>{fetch("/api/case-types").then(a=>a.json()).then(a=>{t(a),v(!1)})},P=async a=>{a.preventDefault();try{if(!(await fetch("/api/case-types",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:y,category:A,defaultSeverity:C,defaultSlaMinutes:parseInt(E),requireProvider:G,requireOrderId:I,lineNotification:K,description:M||void 0})})).ok)throw Error("Failed to create case type");q.toast.success("สร้างประเภทเคสเรียบร้อย"),x(!1),O(),z(""),B("OTHER"),D("NORMAL"),F("120"),H(!1),J(!1),L(!1),N("")}catch(a){console.error(a),q.toast.error("ไม่สามารถสร้างประเภทเคสได้")}};return u?(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsx)(c.Header,{title:"ประเภทเคส"}),(0,b.jsx)("div",{className:"p-6 flex items-center justify-center h-[60vh]",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"กำลังโหลดข้อมูล..."})})]}):(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsx)(c.Header,{title:"ตั้งค่า - ประเภทเคส"}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"ประเภทเคส"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"จัดการประเภทเคสและการตั้งค่า SLA"})]}),(0,b.jsxs)(i.Dialog,{open:w,onOpenChange:x,children:[(0,b.jsx)(i.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{className:"gap-2",children:[(0,b.jsx)(m.Plus,{className:"h-4 w-4"}),"เพิ่มประเภทเคส"]})}),(0,b.jsxs)(i.DialogContent,{className:"max-w-2xl",children:[(0,b.jsx)(i.DialogHeader,{children:(0,b.jsx)(i.DialogTitle,{children:"เพิ่มประเภทเคสใหม่"})}),(0,b.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"name",children:"ชื่อประเภทเคส *"}),(0,b.jsx)(e.Input,{id:"name",value:y,onChange:a=>z(a.target.value),placeholder:"เช่น เติมเงินไม่เข้า",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{children:"หมวดหมู่ *"}),(0,b.jsxs)(j.Select,{value:A,onValueChange:B,children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"PAYMENT",children:"การเงิน"}),(0,b.jsx)(j.SelectItem,{value:"ORDER",children:"ออเดอร์"}),(0,b.jsx)(j.SelectItem,{value:"SYSTEM",children:"ระบบ"}),(0,b.jsx)(j.SelectItem,{value:"PROVIDER",children:"Provider"}),(0,b.jsx)(j.SelectItem,{value:"OTHER",children:"อื่นๆ"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"description",children:"คำอธิบาย"}),(0,b.jsx)(g.Textarea,{id:"description",value:M,onChange:a=>N(a.target.value),placeholder:"อธิบายประเภทเคสนี้",className:"min-h-[80px]"})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{children:"ความรุนแรงเริ่มต้น"}),(0,b.jsxs)(j.Select,{value:C,onValueChange:D,children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"CRITICAL",children:"วิกฤต"}),(0,b.jsx)(j.SelectItem,{value:"HIGH",children:"สูง"}),(0,b.jsx)(j.SelectItem,{value:"NORMAL",children:"ปกติ"}),(0,b.jsx)(j.SelectItem,{value:"LOW",children:"ต่ำ"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"sla",children:"SLA (นาที)"}),(0,b.jsx)(e.Input,{id:"sla",type:"number",value:E,onChange:a=>F(a.target.value),min:"1",required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"requireProvider",checked:G,onChange:a=>H(a.target.checked),className:"rounded"}),(0,b.jsx)(f.Label,{htmlFor:"requireProvider",className:"cursor-pointer",children:"ต้องระบุ Provider"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"requireOrderId",checked:I,onChange:a=>J(a.target.checked),className:"rounded"}),(0,b.jsx)(f.Label,{htmlFor:"requireOrderId",className:"cursor-pointer",children:"ต้องระบุ Order ID"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"lineNotification",checked:K,onChange:a=>L(a.target.checked),className:"rounded"}),(0,b.jsx)(f.Label,{htmlFor:"lineNotification",className:"cursor-pointer",children:"ส่งการแจ้งเตือน Line"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>x(!1),children:"ยกเลิก"}),(0,b.jsx)(d.Button,{type:"submit",children:"สร้างประเภทเคส"})]})]})]})]})]}),(0,b.jsx)(h.Card,{children:(0,b.jsxs)(k.Table,{children:[(0,b.jsx)(k.TableHeader,{children:(0,b.jsxs)(k.TableRow,{className:"hover:bg-transparent",children:[(0,b.jsx)(k.TableHead,{children:"ชื่อ"}),(0,b.jsx)(k.TableHead,{className:"w-[120px]",children:"หมวดหมู่"}),(0,b.jsx)(k.TableHead,{className:"w-[100px]",children:"ความรุนแรง"}),(0,b.jsx)(k.TableHead,{className:"w-[100px] text-right",children:"SLA"}),(0,b.jsx)(k.TableHead,{className:"w-[200px]",children:"การตั้งค่า"}),(0,b.jsx)(k.TableHead,{className:"w-[80px]",children:"สถานะ"}),(0,b.jsx)(k.TableHead,{className:"w-[80px]"})]})}),(0,b.jsx)(k.TableBody,{children:0===a.length?(0,b.jsx)(k.TableRow,{children:(0,b.jsx)(k.TableCell,{colSpan:7,className:"h-32 text-center text-muted-foreground",children:"ไม่พบประเภทเคส"})}):a.map(a=>(0,b.jsxs)(k.TableRow,{children:[(0,b.jsx)(k.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1",children:a.description})]})}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)(l.Badge,{variant:"outline",className:(0,o.cn)("text-xs",r[a.category]?.className),children:r[a.category]?.label})}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)("span",{className:"text-sm",children:s[a.defaultSeverity]})}),(0,b.jsxs)(k.TableCell,{className:"text-right",children:[a.defaultSlaMinutes," นาที"]}),(0,b.jsx)(k.TableCell,{children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.requireProvider&&(0,b.jsx)(l.Badge,{variant:"outline",className:"text-xs",children:"Provider"}),a.requireOrderId&&(0,b.jsx)(l.Badge,{variant:"outline",className:"text-xs",children:"Order ID"}),a.lineNotification&&(0,b.jsx)(l.Badge,{variant:"outline",className:"text-xs",children:"Line"})]})}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)("div",{className:(0,o.cn)("h-2 w-2 rounded-full",a.isActive?"bg-green-500":"bg-gray-400")})}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,b.jsx)(n.Pencil,{className:"h-4 w-4"})})})]},a.id))})]})})]})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=_22356e28._.js.map