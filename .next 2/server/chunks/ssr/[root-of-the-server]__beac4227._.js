module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},70844,a=>{a.n(a.i(92359))},84254,a=>{"use strict";let b=(0,a.i(1269).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],84254)},21679,a=>{"use strict";let b=(0,a.i(1269).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],21679)},10734,a=>{"use strict";let b=(0,a.i(1269).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],10734)},14269,a=>{"use strict";let b=(0,a.i(1269).default)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);a.s(["Inbox",()=>b],14269)},78454,a=>{"use strict";let b=(0,a.i(1269).default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);a.s(["ArrowUpRight",()=>b],78454)},44538,a=>a.a(async(b,c)=>{try{var d=a.i(7997),e=a.i(33952),f=a.i(35330),g=a.i(19637),h=a.i(38904),i=a.i(14269),j=a.i(21679),k=a.i(10734),l=a.i(56603),m=a.i(78454),n=a.i(84254),o=a.i(39138),p=a.i(95936),q=a.i(66518),r=a.i(9307),s=a.i(40686),t=a.i(64377),u=b([q,r]);[q,r]=u.then?(await u)():u;let x={NEW:{label:"à¹ƒà¸«à¸¡à¹ˆ",className:"bg-blue-500/10 text-blue-500 border-blue-500/20"},INVESTIGATING:{label:"à¸à¸³à¸¥à¸±à¸‡à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š",className:"bg-amber-500/10 text-amber-500 border-amber-500/20"},WAITING_CUSTOMER:{label:"à¸£à¸­à¸¥à¸¹à¸à¸„à¹‰à¸²",className:"bg-purple-500/10 text-purple-500 border-purple-500/20"},WAITING_PROVIDER:{label:"à¸£à¸­ Provider",className:"bg-orange-500/10 text-orange-500 border-orange-500/20"},FIXING:{label:"à¸à¸³à¸¥à¸±à¸‡à¹à¸à¹‰à¹„à¸‚",className:"bg-cyan-500/10 text-cyan-500 border-cyan-500/20"},RESOLVED:{label:"à¹à¸à¹‰à¹„à¸‚à¹à¸¥à¹‰à¸§",className:"bg-green-500/10 text-green-500 border-green-500/20"},CLOSED:{label:"à¸›à¸´à¸”à¹€à¸„à¸ª",className:"bg-gray-500/10 text-gray-500 border-gray-500/20"}},y={CRITICAL:{label:"à¸§à¸´à¸à¸¤à¸•",className:"bg-red-500/10 text-red-500 border-red-500/20"},HIGH:{label:"à¸ªà¸¹à¸‡",className:"bg-orange-500/10 text-orange-500 border-orange-500/20"},NORMAL:{label:"à¸›à¸à¸•à¸´",className:"bg-blue-500/10 text-blue-500 border-blue-500/20"},LOW:{label:"à¸•à¹ˆà¸³",className:"bg-gray-500/10 text-gray-500 border-gray-500/20"}};async function v(){let a=new Date,b=new Date(a.getFullYear(),a.getMonth(),a.getDate()),[c,d,e,f,g,h,i,j]=await Promise.all([q.default.case.count(),q.default.case.count({where:{status:"NEW"}}),q.default.case.count({where:{status:{in:["INVESTIGATING","WAITING_CUSTOMER","WAITING_PROVIDER","FIXING"]}}}),q.default.case.count({where:{resolvedAt:{gte:b}}}),q.default.case.count({where:{slaMissed:!0,status:{notIn:["RESOLVED","CLOSED"]}}}),q.default.case.findMany({take:5,orderBy:{createdAt:"desc"},include:{caseType:{select:{name:!0}},owner:{select:{name:!0}}}}),q.default.case.findMany({where:{severity:"CRITICAL",status:{notIn:["RESOLVED","CLOSED"]}},take:3,orderBy:{createdAt:"desc"}}),q.default.provider.findMany({where:{cases:{some:{status:{notIn:["RESOLVED","CLOSED"]}}}},select:{id:!0,name:!0,riskLevel:!0,_count:{select:{cases:{where:{status:{notIn:["RESOLVED","CLOSED"]}}}}}},orderBy:{cases:{_count:"desc"}},take:5})]);return{totalCases:c,newCases:d,inProgressCases:e,resolvedToday:f,slaMissed:g,recentCases:h,criticalCases:i,providersWithIssues:j}}async function w(){let a=await (0,r.getCurrentUser)(),b=await v(),c=[{title:"à¹€à¸„à¸ªà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",value:b.totalCases.toString(),icon:i.Inbox,color:"text-primary"},{title:"à¸à¸³à¸¥à¸±à¸‡à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£",value:b.inProgressCases.toString(),icon:l.Clock,color:"text-amber-500"},{title:"à¹à¸à¹‰à¹„à¸‚à¹à¸¥à¹‰à¸§à¸§à¸±à¸™à¸™à¸µà¹‰",value:b.resolvedToday.toString(),icon:k.CheckCircle2,color:"text-green-500"},{title:"SLA à¹€à¸à¸´à¸™à¸à¸³à¸«à¸™à¸”",value:b.slaMissed.toString(),icon:j.AlertCircle,color:"text-red-500"}];return(0,d.jsxs)("div",{className:"min-h-screen",children:[(0,d.jsx)(e.Header,{title:"à¹à¸”à¸Šà¸šà¸­à¸£à¹Œà¸”"}),(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{className:"text-2xl font-semibold tracking-tight",children:["à¸ªà¸§à¸±à¸ªà¸”à¸µ, ",a?.name||"User"," ðŸ‘‹"]}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"à¸ à¸²à¸žà¸£à¸§à¸¡à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸„à¸ªà¸§à¸±à¸™à¸™à¸µà¹‰"})]}),(0,d.jsx)(p.default,{href:"/cases/new",children:(0,d.jsxs)(h.Button,{className:"gap-2",children:[(0,d.jsx)(n.Plus,{className:"h-4 w-4"}),"à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸„à¸ªà¹ƒà¸«à¸¡à¹ˆ"]})})]}),(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:c.map(a=>(0,d.jsxs)(f.Card,{className:"relative overflow-hidden",children:[(0,d.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,d.jsx)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:a.title}),(0,d.jsx)(a.icon,{className:(0,o.cn)("h-5 w-5",a.color)})]}),(0,d.jsx)(f.CardContent,{children:(0,d.jsx)("div",{className:"text-3xl font-bold",children:a.value})}),(0,d.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-gradient-to-r from-transparent via-primary/20 to-transparent"})]},a.title))}),(0,d.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,d.jsxs)(f.Card,{className:"lg:col-span-2",children:[(0,d.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,d.jsx)(f.CardTitle,{className:"text-lg font-semibold",children:"à¹€à¸„à¸ªà¸¥à¹ˆà¸²à¸ªà¸¸à¸”"}),(0,d.jsx)(p.default,{href:"/cases",children:(0,d.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"gap-1",children:["à¸”à¸¹à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",(0,d.jsx)(m.ArrowUpRight,{className:"h-4 w-4"})]})})]}),(0,d.jsx)(f.CardContent,{children:(0,d.jsx)("div",{className:"space-y-4",children:0===b.recentCases.length?(0,d.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¹€à¸„à¸ª"}):b.recentCases.map(a=>(0,d.jsxs)(p.default,{href:`/cases/${a.id}`,className:"flex items-center gap-4 rounded-lg border border-border/50 p-4 transition-colors hover:bg-muted/50",children:[(0,d.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:a.caseNumber}),(0,d.jsx)(g.Badge,{variant:"outline",className:(0,o.cn)("text-xs",y[a.severity]?.className),children:y[a.severity]?.label})]}),(0,d.jsx)("p",{className:"font-medium",children:a.title}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:a.customerName||"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸à¸¥à¸¹à¸à¸„à¹‰à¸²"})]}),(0,d.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,d.jsx)(g.Badge,{variant:"outline",className:(0,o.cn)("text-xs",x[a.status]?.className),children:x[a.status]?.label}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,s.formatDistanceToNow)(a.createdAt,{addSuffix:!0,locale:t.th})})]})]},a.id))})})]}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(f.Card,{className:"border-red-200 dark:border-red-900/50",children:[(0,d.jsx)(f.CardHeader,{className:"pb-3",children:(0,d.jsxs)(f.CardTitle,{className:"flex items-center gap-2 text-lg font-semibold text-red-600 dark:text-red-400",children:[(0,d.jsx)(j.AlertCircle,{className:"h-5 w-5"}),"à¹€à¸„à¸ªà¸§à¸´à¸à¸¤à¸• (",b.criticalCases.length,")"]})}),(0,d.jsx)(f.CardContent,{children:(0,d.jsx)("div",{className:"space-y-3",children:0===b.criticalCases.length?(0,d.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"à¹„à¸¡à¹ˆà¸¡à¸µà¹€à¸„à¸ªà¸§à¸´à¸à¸¤à¸• ðŸŽ‰"}):b.criticalCases.map(a=>(0,d.jsxs)(p.default,{href:`/cases/${a.id}`,className:"flex items-center justify-between rounded-lg bg-red-50 p-3 dark:bg-red-950/30 hover:bg-red-100 dark:hover:bg-red-950/50 transition-colors",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:a.title}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:a.caseNumber})]}),a.slaDeadline&&(0,d.jsxs)(g.Badge,{variant:"destructive",className:"text-xs",children:["SLA: ",(0,s.formatDistanceToNow)(a.slaDeadline,{locale:t.th})]})]},a.id))})})]}),(0,d.jsxs)(f.Card,{children:[(0,d.jsx)(f.CardHeader,{className:"pb-3",children:(0,d.jsx)(f.CardTitle,{className:"text-lg font-semibold",children:"Provider à¸¡à¸µà¸›à¸±à¸à¸«à¸²"})}),(0,d.jsx)(f.CardContent,{children:(0,d.jsx)("div",{className:"space-y-3",children:0===b.providersWithIssues.length?(0,d.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"à¹„à¸¡à¹ˆà¸¡à¸µ Provider à¸—à¸µà¹ˆà¸¡à¸µà¸›à¸±à¸à¸«à¸²"}):b.providersWithIssues.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:(0,o.cn)("h-2 w-2 rounded-full","CRITICAL"===a.riskLevel?"bg-red-500":"HIGH"===a.riskLevel?"bg-orange-500":"MEDIUM"===a.riskLevel?"bg-amber-500":"bg-green-500")}),(0,d.jsx)("span",{className:"text-sm",children:a.name})]}),(0,d.jsxs)("span",{className:"text-sm text-muted-foreground",children:[a._count.cases," à¹€à¸„à¸ª"]})]},a.id))})})]})]})]})]})]})}a.s(["default",()=>w]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__beac4227._.js.map