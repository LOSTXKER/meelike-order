module.exports=[29246,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},66718,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},92759,a=>{"use strict";let b=(0,a.i(70106).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],92759)},5084,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e="horizontal",f=["horizontal","vertical"],g=c.forwardRef((a,c)=>{var g;let{decorative:h,orientation:i=e,...j}=a,k=(g=i,f.includes(g))?i:e;return(0,b.jsx)(d.Primitive.div,{"data-orientation":k,...h?{role:"none"}:{"aria-orientation":"vertical"===k?k:void 0,role:"separator"},...j,ref:c})});g.displayName="Separator";var h=a.i(68114);function i({className:a,orientation:c="horizontal",decorative:d=!0,...e}){return(0,b.jsx)(g,{"data-slot":"separator",decorative:d,orientation:c,className:(0,h.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...e})}a.s(["Separator",()=>i],5084)},95365,a=>{"use strict";var b=a.i(87924),c=a.i(80701),d=a.i(50944),e=a.i(72131),f=a.i(23292);function g({caseId:a,currentStatus:g}){let h=(0,d.useRouter)(),[i,j]=(0,e.useTransition)(),[k,l]=(0,e.useState)(g),m=async b=>{l(b);try{if(!(await fetch(`/api/cases/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:b})})).ok)throw Error("Failed to update status");f.toast.success("อัพเดทสถานะเรียบร้อย"),j(()=>{h.refresh()})}catch{f.toast.error("ไม่สามารถอัพเดทสถานะได้"),l(g)}};return(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)(c.Select,{value:k,onValueChange:m,disabled:i,children:[(0,b.jsx)(c.SelectTrigger,{className:"w-[160px]",children:(0,b.jsx)(c.SelectValue,{placeholder:"เปลี่ยนสถานะ"})}),(0,b.jsxs)(c.SelectContent,{children:[(0,b.jsx)(c.SelectItem,{value:"NEW",children:"ใหม่"}),(0,b.jsx)(c.SelectItem,{value:"INVESTIGATING",children:"กำลังตรวจสอบ"}),(0,b.jsx)(c.SelectItem,{value:"WAITING_CUSTOMER",children:"รอลูกค้า"}),(0,b.jsx)(c.SelectItem,{value:"WAITING_PROVIDER",children:"รอ Provider"}),(0,b.jsx)(c.SelectItem,{value:"FIXING",children:"กำลังแก้ไข"}),(0,b.jsx)(c.SelectItem,{value:"RESOLVED",children:"แก้ไขแล้ว"}),(0,b.jsx)(c.SelectItem,{value:"CLOSED",children:"ปิดเคส"})]})]})})}a.s(["CaseActions",()=>g])},89017,a=>{"use strict";var b=a.i(87924),c=a.i(99570),d=a.i(29246),e=a.i(92759),f=a.i(50944),g=a.i(72131),h=a.i(23292);function i({caseId:a}){let i=(0,f.useRouter)(),[j,k]=(0,g.useTransition)(),[l,m]=(0,g.useState)(""),n=async b=>{if(b.preventDefault(),l.trim())try{if(!(await fetch(`/api/cases/${a}/activities`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"NOTE_ADDED",title:"เพิ่มบันทึก",description:l})})).ok)throw Error("Failed to add note");h.toast.success("เพิ่มบันทึกเรียบร้อย"),m(""),k(()=>{i.refresh()})}catch{h.toast.error("ไม่สามารถเพิ่มบันทึกได้")}};return(0,b.jsxs)("form",{onSubmit:n,className:"space-y-3",children:[(0,b.jsx)(d.Textarea,{placeholder:"เพิ่มบันทึก...",className:"min-h-[80px] resize-none",value:l,onChange:a=>m(a.target.value),disabled:j}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)(c.Button,{className:"gap-2",type:"submit",disabled:j||!l.trim(),children:[(0,b.jsx)(e.Send,{className:"h-4 w-4"}),"บันทึก"]})})]})}a.s(["AddNoteForm",()=>i])}];

//# sourceMappingURL=_fc5c033c._.js.map