module.exports=[44331,a=>{"use strict";a.s(["Separator",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/separator.tsx <module evaluation>","Separator")},80323,a=>{"use strict";a.s(["Separator",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/separator.tsx","Separator")},66343,a=>{"use strict";a.i(44331);var b=a.i(80323);a.n(b)},13743,a=>{"use strict";let b=(0,a.i(1269).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],13743)},40020,a=>{"use strict";let b=(0,a.i(1269).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],40020)},46840,a=>{"use strict";let b=(0,a.i(1269).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);a.s(["Building2",()=>b],46840)},71348,a=>{"use strict";let b=(0,a.i(1269).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);a.s(["MessageSquare",()=>b],71348)},84674,a=>{"use strict";let b=(0,a.i(1269).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],84674)},72030,a=>{"use strict";let b=(0,a.i(1269).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],72030)},12208,a=>{"use strict";var b=a.i(68023),c=a.i(89650),d=a.i(79309),e=a.i(47355),f=a.i(96818),g=a.i(99602);function h(a,b){let c=(0,g.toDate)(a,b?.in);return c.setHours(0,0,0,0),c}function i(a,b){let d=(0,c.getDefaultOptions)(),e=b?.weekStartsOn??b?.locale?.options?.weekStartsOn??d.weekStartsOn??d.locale?.options?.weekStartsOn??0,f=(0,g.toDate)(a,b?.in),h=f.getDay();return f.setDate(f.getDate()-(7*(h<e)+h-e)),f.setHours(0,0,0,0),f}function j(a,b){return i(a,{...b,weekStartsOn:1})}var k=a.i(18956);function l(a,b){let c=(0,g.toDate)(a,b?.in),d=c.getFullYear(),e=(0,k.constructFrom)(c,0);e.setFullYear(d+1,0,4),e.setHours(0,0,0,0);let f=j(e),h=(0,k.constructFrom)(c,0);h.setFullYear(d,0,4),h.setHours(0,0,0,0);let i=j(h);return c.getTime()>=f.getTime()?d+1:c.getTime()>=i.getTime()?d:d-1}function m(a,b){let d=(0,g.toDate)(a,b?.in),e=d.getFullYear(),f=(0,c.getDefaultOptions)(),h=b?.firstWeekContainsDate??b?.locale?.options?.firstWeekContainsDate??f.firstWeekContainsDate??f.locale?.options?.firstWeekContainsDate??1,j=(0,k.constructFrom)(b?.in||a,0);j.setFullYear(e+1,0,h),j.setHours(0,0,0,0);let l=i(j,b),m=(0,k.constructFrom)(b?.in||a,0);m.setFullYear(e,0,h),m.setHours(0,0,0,0);let n=i(m,b);return+d>=+l?e+1:+d>=+n?e:e-1}function n(a,b){let c=Math.abs(a).toString().padStart(b,"0");return(a<0?"-":"")+c}let o={y(a,b){let c=a.getFullYear(),d=c>0?c:1-c;return n("yy"===b?d%100:d,b.length)},M(a,b){let c=a.getMonth();return"M"===b?String(c+1):n(c+1,2)},d:(a,b)=>n(a.getDate(),b.length),a(a,b){let c=a.getHours()/12>=1?"pm":"am";switch(b){case"a":case"aa":return c.toUpperCase();case"aaa":return c;case"aaaaa":return c[0];default:return"am"===c?"a.m.":"p.m."}},h:(a,b)=>n(a.getHours()%12||12,b.length),H:(a,b)=>n(a.getHours(),b.length),m:(a,b)=>n(a.getMinutes(),b.length),s:(a,b)=>n(a.getSeconds(),b.length),S(a,b){let c=b.length;return n(Math.trunc(a.getMilliseconds()*Math.pow(10,c-3)),b.length)}},p={G:function(a,b,c){let d=+(a.getFullYear()>0);switch(b){case"G":case"GG":case"GGG":return c.era(d,{width:"abbreviated"});case"GGGGG":return c.era(d,{width:"narrow"});default:return c.era(d,{width:"wide"})}},y:function(a,b,c){if("yo"===b){let b=a.getFullYear();return c.ordinalNumber(b>0?b:1-b,{unit:"year"})}return o.y(a,b)},Y:function(a,b,c,d){let e=m(a,d),f=e>0?e:1-e;return"YY"===b?n(f%100,2):"Yo"===b?c.ordinalNumber(f,{unit:"year"}):n(f,b.length)},R:function(a,b){return n(l(a),b.length)},u:function(a,b){return n(a.getFullYear(),b.length)},Q:function(a,b,c){let d=Math.ceil((a.getMonth()+1)/3);switch(b){case"Q":return String(d);case"QQ":return n(d,2);case"Qo":return c.ordinalNumber(d,{unit:"quarter"});case"QQQ":return c.quarter(d,{width:"abbreviated",context:"formatting"});case"QQQQQ":return c.quarter(d,{width:"narrow",context:"formatting"});default:return c.quarter(d,{width:"wide",context:"formatting"})}},q:function(a,b,c){let d=Math.ceil((a.getMonth()+1)/3);switch(b){case"q":return String(d);case"qq":return n(d,2);case"qo":return c.ordinalNumber(d,{unit:"quarter"});case"qqq":return c.quarter(d,{width:"abbreviated",context:"standalone"});case"qqqqq":return c.quarter(d,{width:"narrow",context:"standalone"});default:return c.quarter(d,{width:"wide",context:"standalone"})}},M:function(a,b,c){let d=a.getMonth();switch(b){case"M":case"MM":return o.M(a,b);case"Mo":return c.ordinalNumber(d+1,{unit:"month"});case"MMM":return c.month(d,{width:"abbreviated",context:"formatting"});case"MMMMM":return c.month(d,{width:"narrow",context:"formatting"});default:return c.month(d,{width:"wide",context:"formatting"})}},L:function(a,b,c){let d=a.getMonth();switch(b){case"L":return String(d+1);case"LL":return n(d+1,2);case"Lo":return c.ordinalNumber(d+1,{unit:"month"});case"LLL":return c.month(d,{width:"abbreviated",context:"standalone"});case"LLLLL":return c.month(d,{width:"narrow",context:"standalone"});default:return c.month(d,{width:"wide",context:"standalone"})}},w:function(a,b,d,e){let h,j,l,o,p,q=Math.round((i(h=(0,g.toDate)(a,e?.in),e)-(j=(0,c.getDefaultOptions)(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??j.firstWeekContainsDate??j.locale?.options?.firstWeekContainsDate??1,o=m(h,e),(p=(0,k.constructFrom)(e?.in||h,0)).setFullYear(o,0,l),p.setHours(0,0,0,0),i(p,e)))/f.millisecondsInWeek)+1;return"wo"===b?d.ordinalNumber(q,{unit:"week"}):n(q,b.length)},I:function(a,b,c){let d,e,h,i=Math.round((j(d=(0,g.toDate)(a,void 0))-(e=l(d,void 0),(h=(0,k.constructFrom)(d,0)).setFullYear(e,0,4),h.setHours(0,0,0,0),j(h)))/f.millisecondsInWeek)+1;return"Io"===b?c.ordinalNumber(i,{unit:"week"}):n(i,b.length)},d:function(a,b,c){return"do"===b?c.ordinalNumber(a.getDate(),{unit:"date"}):o.d(a,b)},D:function(a,b,c){let i,j,k=function(a,b,c){let[g,i]=(0,e.normalizeDates)(void 0,a,b),j=h(g),k=h(i);return Math.round((j-(0,d.getTimezoneOffsetInMilliseconds)(j)-(k-(0,d.getTimezoneOffsetInMilliseconds)(k)))/f.millisecondsInDay)}(i=(0,g.toDate)(a,void 0),((j=(0,g.toDate)(i,void 0)).setFullYear(j.getFullYear(),0,1),j.setHours(0,0,0,0),j))+1;return"Do"===b?c.ordinalNumber(k,{unit:"dayOfYear"}):n(k,b.length)},E:function(a,b,c){let d=a.getDay();switch(b){case"E":case"EE":case"EEE":return c.day(d,{width:"abbreviated",context:"formatting"});case"EEEEE":return c.day(d,{width:"narrow",context:"formatting"});case"EEEEEE":return c.day(d,{width:"short",context:"formatting"});default:return c.day(d,{width:"wide",context:"formatting"})}},e:function(a,b,c,d){let e=a.getDay(),f=(e-d.weekStartsOn+8)%7||7;switch(b){case"e":return String(f);case"ee":return n(f,2);case"eo":return c.ordinalNumber(f,{unit:"day"});case"eee":return c.day(e,{width:"abbreviated",context:"formatting"});case"eeeee":return c.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return c.day(e,{width:"short",context:"formatting"});default:return c.day(e,{width:"wide",context:"formatting"})}},c:function(a,b,c,d){let e=a.getDay(),f=(e-d.weekStartsOn+8)%7||7;switch(b){case"c":return String(f);case"cc":return n(f,b.length);case"co":return c.ordinalNumber(f,{unit:"day"});case"ccc":return c.day(e,{width:"abbreviated",context:"standalone"});case"ccccc":return c.day(e,{width:"narrow",context:"standalone"});case"cccccc":return c.day(e,{width:"short",context:"standalone"});default:return c.day(e,{width:"wide",context:"standalone"})}},i:function(a,b,c){let d=a.getDay(),e=0===d?7:d;switch(b){case"i":return String(e);case"ii":return n(e,b.length);case"io":return c.ordinalNumber(e,{unit:"day"});case"iii":return c.day(d,{width:"abbreviated",context:"formatting"});case"iiiii":return c.day(d,{width:"narrow",context:"formatting"});case"iiiiii":return c.day(d,{width:"short",context:"formatting"});default:return c.day(d,{width:"wide",context:"formatting"})}},a:function(a,b,c){let d=a.getHours()/12>=1?"pm":"am";switch(b){case"a":case"aa":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"aaa":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},b:function(a,b,c){let d,e=a.getHours();switch(d=12===e?"noon":0===e?"midnight":e/12>=1?"pm":"am",b){case"b":case"bb":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"bbb":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},B:function(a,b,c){let d,e=a.getHours();switch(d=e>=17?"evening":e>=12?"afternoon":e>=4?"morning":"night",b){case"B":case"BB":case"BBB":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"BBBBB":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},h:function(a,b,c){if("ho"===b){let b=a.getHours()%12;return 0===b&&(b=12),c.ordinalNumber(b,{unit:"hour"})}return o.h(a,b)},H:function(a,b,c){return"Ho"===b?c.ordinalNumber(a.getHours(),{unit:"hour"}):o.H(a,b)},K:function(a,b,c){let d=a.getHours()%12;return"Ko"===b?c.ordinalNumber(d,{unit:"hour"}):n(d,b.length)},k:function(a,b,c){let d=a.getHours();return(0===d&&(d=24),"ko"===b)?c.ordinalNumber(d,{unit:"hour"}):n(d,b.length)},m:function(a,b,c){return"mo"===b?c.ordinalNumber(a.getMinutes(),{unit:"minute"}):o.m(a,b)},s:function(a,b,c){return"so"===b?c.ordinalNumber(a.getSeconds(),{unit:"second"}):o.s(a,b)},S:function(a,b){return o.S(a,b)},X:function(a,b,c){let d=a.getTimezoneOffset();if(0===d)return"Z";switch(b){case"X":return r(d);case"XXXX":case"XX":return s(d);default:return s(d,":")}},x:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"x":return r(d);case"xxxx":case"xx":return s(d);default:return s(d,":")}},O:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"O":case"OO":case"OOO":return"GMT"+q(d,":");default:return"GMT"+s(d,":")}},z:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"z":case"zz":case"zzz":return"GMT"+q(d,":");default:return"GMT"+s(d,":")}},t:function(a,b,c){return n(Math.trunc(a/1e3),b.length)},T:function(a,b,c){return n(+a,b.length)}};function q(a,b=""){let c=a>0?"-":"+",d=Math.abs(a),e=Math.trunc(d/60),f=d%60;return 0===f?c+String(e):c+String(e)+b+n(f,2)}function r(a,b){return a%60==0?(a>0?"-":"+")+n(Math.abs(a)/60,2):s(a,b)}function s(a,b=""){let c=Math.abs(a);return(a>0?"-":"+")+n(Math.trunc(c/60),2)+b+n(c%60,2)}let t=(a,b)=>{switch(a){case"P":return b.date({width:"short"});case"PP":return b.date({width:"medium"});case"PPP":return b.date({width:"long"});default:return b.date({width:"full"})}},u=(a,b)=>{switch(a){case"p":return b.time({width:"short"});case"pp":return b.time({width:"medium"});case"ppp":return b.time({width:"long"});default:return b.time({width:"full"})}},v={p:u,P:(a,b)=>{let c,d=a.match(/(P+)(p+)?/)||[],e=d[1],f=d[2];if(!f)return t(a,b);switch(e){case"P":c=b.dateTime({width:"short"});break;case"PP":c=b.dateTime({width:"medium"});break;case"PPP":c=b.dateTime({width:"long"});break;default:c=b.dateTime({width:"full"})}return c.replace("{{date}}",t(e,b)).replace("{{time}}",u(f,b))}},w=/^D+$/,x=/^Y+$/,y=["D","DD","YY","YYYY"],z=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,A=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B=/^'([^]*?)'?$/,C=/''/g,D=/[a-zA-Z]/;function E(a,d,e){let f=(0,c.getDefaultOptions)(),h=e?.locale??f.locale??b.defaultLocale,i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??f.firstWeekContainsDate??f.locale?.options?.firstWeekContainsDate??1,j=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??f.weekStartsOn??f.locale?.options?.weekStartsOn??0,k=(0,g.toDate)(a,e?.in);if(!(k instanceof Date||"object"==typeof k&&"[object Date]"===Object.prototype.toString.call(k))&&"number"!=typeof k||isNaN(+(0,g.toDate)(k)))throw RangeError("Invalid time value");let l=d.match(A).map(a=>{let b=a[0];return"p"===b||"P"===b?(0,v[b])(a,h.formatLong):a}).join("").match(z).map(a=>{if("''"===a)return{isToken:!1,value:"'"};let b=a[0];if("'"===b){var c;let b;return{isToken:!1,value:(b=(c=a).match(B))?b[1].replace(C,"'"):c}}if(p[b])return{isToken:!0,value:a};if(b.match(D))throw RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:a}});h.localize.preprocessor&&(l=h.localize.preprocessor(k,l));let m={firstWeekContainsDate:i,weekStartsOn:j,locale:h};return l.map(b=>{if(!b.isToken)return b.value;let c=b.value;return(!e?.useAdditionalWeekYearTokens&&x.test(c)||!e?.useAdditionalDayOfYearTokens&&w.test(c))&&function(a,b,c){var d,e,f;let g,h=(d=a,e=b,f=c,g="Y"===d[0]?"years":"days of the month",`Use \`${d.toLowerCase()}\` instead of \`${d}\` (in \`${e}\`) for formatting ${g} to the input \`${f}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(h),y.includes(a))throw RangeError(h)}(c,d,String(a)),(0,p[c[0]])(k,c,h.localize,m)}).join("")}a.s(["format",()=>E],12208)},87001,a=>{"use strict";a.s(["CaseActions",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call CaseActions() from the server but CaseActions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/cases/[id]/case-actions.tsx <module evaluation>","CaseActions")},30668,a=>{"use strict";a.s(["CaseActions",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call CaseActions() from the server but CaseActions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/cases/[id]/case-actions.tsx","CaseActions")},18418,a=>{"use strict";a.i(87001);var b=a.i(30668);a.n(b)},82686,a=>{"use strict";a.s(["AddNoteForm",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AddNoteForm() from the server but AddNoteForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/cases/[id]/add-note-form.tsx <module evaluation>","AddNoteForm")},84483,a=>{"use strict";a.s(["AddNoteForm",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AddNoteForm() from the server but AddNoteForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/cases/[id]/add-note-form.tsx","AddNoteForm")},66358,a=>{"use strict";a.i(82686);var b=a.i(84483);a.n(b)},19043,a=>a.a(async(b,c)=>{try{var d=a.i(7997),e=a.i(33952),f=a.i(38904),g=a.i(19637),h=a.i(35330),i=a.i(66343),j=a.i(13743),k=a.i(56603),l=a.i(40020),m=a.i(46840),n=a.i(71348),o=a.i(84674),p=a.i(10734),q=a.i(72030),r=a.i(21679),s=a.i(39138),t=a.i(95936),u=a.i(66518);a.i(70396);var v=a.i(73727),w=a.i(40686),x=a.i(9809),y=a.i(12208),z=a.i(64377),A=a.i(18418),B=a.i(66358),C=b([u]);[u]=C.then?(await C)():C;let E={NEW:{label:"ใหม่",className:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-200 dark:border-blue-800"},INVESTIGATING:{label:"กำลังตรวจสอบ",className:"bg-violet-500/10 text-violet-600 dark:text-violet-400 border-violet-200 dark:border-violet-800"},WAITING_CUSTOMER:{label:"รอลูกค้า",className:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-200 dark:border-amber-800"},WAITING_PROVIDER:{label:"รอ Provider",className:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-200 dark:border-orange-800"},FIXING:{label:"กำลังแก้ไข",className:"bg-cyan-500/10 text-cyan-600 dark:text-cyan-400 border-cyan-200 dark:border-cyan-800"},RESOLVED:{label:"แก้ไขแล้ว",className:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-200 dark:border-green-800"},CLOSED:{label:"ปิดเคส",className:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-800"}},F={CRITICAL:{label:"วิกฤต",className:"bg-red-500/10 text-red-600 dark:text-red-400"},HIGH:{label:"สูง",className:"bg-orange-500/10 text-orange-600 dark:text-orange-400"},NORMAL:{label:"ปกติ",className:"bg-blue-500/10 text-blue-600 dark:text-blue-400"},LOW:{label:"ต่ำ",className:"bg-gray-500/10 text-gray-600 dark:text-gray-400"}},G={CREATED:o.FileText,STATUS_CHANGED:q.ChevronRight,ASSIGNED:l.User,NOTE_ADDED:n.MessageSquare,RESOLVED:p.CheckCircle2,ESCALATED:r.AlertCircle,SEVERITY_CHANGED:r.AlertCircle,FILE_ATTACHED:o.FileText,SLA_UPDATED:k.Clock,CLOSED:p.CheckCircle2,REOPENED:q.ChevronRight};async function D({params:a}){let{id:b}=await a,c=await u.default.case.findUnique({where:{id:b},include:{caseType:!0,owner:{select:{id:!0,name:!0,role:!0}},provider:{select:{id:!0,name:!0}},orders:{include:{provider:{select:{name:!0}}}},activities:{include:{user:{select:{id:!0,name:!0}}},orderBy:{createdAt:"desc"}}}});c||(0,v.notFound)();let o=function(a){if(!a)return{text:"-",isUrgent:!1,isMissed:!1};let b=new Date,c=(0,x.differenceInMinutes)(a,b);if(c<0)return{text:`เกิน ${Math.abs(c)} นาที`,isUrgent:!1,isMissed:!0};if(c<15)return{text:`${c} นาที`,isUrgent:!0,isMissed:!1};if(c<60)return{text:`${c} นาที`,isUrgent:!1,isMissed:!1};let d=Math.floor(c/60);return{text:`${d}:${(c%60).toString().padStart(2,"0")} ชม.`,isUrgent:!1,isMissed:!1}}(c.slaDeadline);return(0,d.jsxs)("div",{className:"min-h-screen",children:[(0,d.jsx)(e.Header,{}),(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)(t.default,{href:"/cases",children:(0,d.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-9 w-9",children:(0,d.jsx)(j.ArrowLeft,{className:"h-5 w-5"})})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold",children:c.caseNumber}),(0,d.jsx)(g.Badge,{variant:"outline",className:(0,s.cn)("text-xs font-medium",F[c.severity]?.className),children:F[c.severity]?.label}),(0,d.jsx)(g.Badge,{variant:"outline",className:(0,s.cn)("text-xs font-medium",E[c.status]?.className),children:E[c.status]?.label})]}),(0,d.jsx)("p",{className:"mt-1 text-muted-foreground",children:c.title})]})]}),(0,d.jsx)(A.CaseActions,{caseId:c.id,currentStatus:c.status})]}),(0,d.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,d.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsx)(h.CardTitle,{className:"text-lg",children:"รายละเอียด"})}),(0,d.jsx)(h.CardContent,{children:(0,d.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:c.description||"ไม่มีรายละเอียด"})})]}),c.orders.length>0&&(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsx)(h.CardTitle,{className:"text-lg",children:"ออเดอร์ที่เกี่ยวข้อง"})}),(0,d.jsx)(h.CardContent,{children:(0,d.jsx)("div",{className:"space-y-3",children:c.orders.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-mono text-sm font-medium",children:a.orderId}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,y.format)(a.createdAt,"d MMM yyyy HH:mm",{locale:z.th})})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"font-semibold",children:["฿",Number(a.amount).toLocaleString()]}),(0,d.jsx)(g.Badge,{variant:"outline",className:"mt-1 text-xs",children:a.status})]})]},a.id))})})]}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{className:"flex flex-row items-center justify-between",children:(0,d.jsx)(h.CardTitle,{className:"text-lg",children:"Timeline"})}),(0,d.jsxs)(h.CardContent,{children:[(0,d.jsx)("div",{className:"space-y-4",children:c.activities.map((a,b)=>{let e=G[a.type]||n.MessageSquare;return(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,d.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted",children:(0,d.jsx)(e,{className:"h-4 w-4 text-muted-foreground"})}),b<c.activities.length-1&&(0,d.jsx)("div",{className:"absolute top-8 h-full w-px bg-border"})]}),(0,d.jsxs)("div",{className:"flex-1 pb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("p",{className:"font-medium",children:a.title}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,y.format)(a.createdAt,"HH:mm")})]}),a.description&&(0,d.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:a.description}),a.user&&(0,d.jsxs)("p",{className:"mt-1 text-xs text-muted-foreground",children:["โดย ",a.user.name]})]})]},a.id)})}),(0,d.jsx)(i.Separator,{className:"my-6"}),(0,d.jsx)(B.AddNoteForm,{caseId:c.id})]})]})]}),(0,d.jsxs)("div",{className:"space-y-6",children:[c.slaDeadline&&"RESOLVED"!==c.status&&"CLOSED"!==c.status&&(0,d.jsx)(h.Card,{className:(0,s.cn)("border-2",o.isMissed?"border-red-500 bg-red-50 dark:bg-red-950/30":o.isUrgent?"border-amber-500 bg-amber-50 dark:bg-amber-950/30":"border-green-500 bg-green-50 dark:bg-green-950/30"),children:(0,d.jsx)(h.CardContent,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(k.Clock,{className:(0,s.cn)("h-5 w-5",o.isMissed?"text-red-500":o.isUrgent?"text-amber-500":"text-green-500")}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:"SLA Deadline"}),(0,d.jsx)("p",{className:(0,s.cn)("text-lg font-bold",o.isMissed?"text-red-600 dark:text-red-400":o.isUrgent?"text-amber-600 dark:text-amber-400":"text-green-600 dark:text-green-400"),children:o.text})]})]})})}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsx)(h.CardTitle,{className:"text-lg",children:"ข้อมูลเคส"})}),(0,d.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs font-medium uppercase text-muted-foreground",children:"ประเภท"}),(0,d.jsx)("p",{className:"mt-1",children:c.caseType.name})]}),(0,d.jsx)(i.Separator,{}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs font-medium uppercase text-muted-foreground",children:"แหล่งที่มา"}),(0,d.jsx)("p",{className:"mt-1",children:c.source})]}),(0,d.jsx)(i.Separator,{}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs font-medium uppercase text-muted-foreground",children:"สร้างเมื่อ"}),(0,d.jsx)("p",{className:"mt-1 text-sm",children:(0,y.format)(c.createdAt,"d MMM yyyy HH:mm",{locale:z.th})}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["(",(0,w.formatDistanceToNow)(c.createdAt,{addSuffix:!0,locale:z.th}),")"]})]})]})]}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsxs)(h.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,d.jsx)(l.User,{className:"h-4 w-4"}),"ลูกค้า"]})}),(0,d.jsxs)(h.CardContent,{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:c.customerName||"ไม่ระบุ"}),c.customerId&&(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:c.customerId})]}),c.customerContact&&(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:c.customerContact})]})]}),c.provider&&(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsxs)(h.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,d.jsx)(m.Building2,{className:"h-4 w-4"}),"Provider"]})}),(0,d.jsx)(h.CardContent,{children:(0,d.jsx)("p",{className:"font-medium",children:c.provider.name})})]}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsx)(h.CardTitle,{className:"text-lg",children:"ผู้รับผิดชอบ"})}),(0,d.jsx)(h.CardContent,{children:c.owner?(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary text-primary-foreground",children:(0,d.jsx)("span",{className:"text-sm font-medium",children:c.owner.name?.charAt(0)||"?"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:c.owner.name}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:c.owner.role})]})]}):(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"ยังไม่มีผู้รับผิดชอบ"})})]}),("RESOLVED"===c.status||"CLOSED"===c.status)&&c.resolution&&(0,d.jsxs)(h.Card,{className:"border-green-200 dark:border-green-900/50",children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsxs)(h.CardTitle,{className:"flex items-center gap-2 text-lg text-green-600 dark:text-green-400",children:[(0,d.jsx)(p.CheckCircle2,{className:"h-4 w-4"}),"การแก้ไข"]})}),(0,d.jsxs)(h.CardContent,{className:"space-y-3",children:[c.rootCause&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs font-medium uppercase text-muted-foreground",children:"สาเหตุ"}),(0,d.jsx)("p",{className:"mt-1 text-sm",children:c.rootCause})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs font-medium uppercase text-muted-foreground",children:"วิธีแก้ไข"}),(0,d.jsx)("p",{className:"mt-1 text-sm",children:c.resolution})]})]})]})]})]})]})]})}a.s(["default",()=>D]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_cf839b50._.js.map