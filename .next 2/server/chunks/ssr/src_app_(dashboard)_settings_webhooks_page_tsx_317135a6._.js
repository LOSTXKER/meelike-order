module.exports=[73994,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18894),e=a.i(99570),f=a.i(66718),g=a.i(70430),h=a.i(91119),i=a.i(70121),j=a.i(7554),k=a.i(25152),l=a.i(77994),m=a.i(3688),n=a.i(77192);a.i(35112);var o=Symbol("radix.slottable");function p(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===o}var q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{var e,f;let g,h,j,k=(f=e=`Primitive.${d}`,(g=c.forwardRef((a,b)=>{let{children:d,...e}=a;if(c.isValidElement(d)){var f;let a,g,h=(f=d,(g=(a=Object.getOwnPropertyDescriptor(f.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.ref:(g=(a=Object.getOwnPropertyDescriptor(f,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.props.ref:f.props.ref||f.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(e,d.props);return d.type!==c.Fragment&&(j.ref=b?(0,i.composeRefs)(b,h):h),c.cloneElement(d,j)}return c.Children.count(d)>1?c.Children.only(null):null})).displayName=`${f}.SlotClone`,h=g,(j=c.forwardRef((a,d)=>{let{children:e,...f}=a,g=c.Children.toArray(e),i=g.find(p);if(i){let a=i.props.children,e=g.map(b=>b!==i?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(h,{...f,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(h,{...f,ref:d,children:e})})).displayName=`${e}.Slot`,j),l=c.forwardRef((a,c)=>{let{asChild:e,...f}=a;return(0,b.jsx)(e?k:d,{...f,ref:c})});return l.displayName=`Primitive.${d}`,{...a,[d]:l}},{}),r="Checkbox",[s,t]=function(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f),h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}(r),[u,v]=s(r);function w(a){let{__scopeCheckbox:d,checked:e,children:f,defaultChecked:g,disabled:h,form:i,name:j,onCheckedChange:l,required:m,value:n="on",internal_do_not_use_render:o}=a,[p,q]=(0,k.useControllableState)({prop:e,defaultProp:g??!1,onChange:l,caller:r}),[s,t]=c.useState(null),[v,w]=c.useState(null),x=c.useRef(!1),y=!s||!!i||!!s.closest("form"),z={checked:p,disabled:h,setChecked:q,control:s,setControl:t,name:j,form:i,value:n,hasConsumerStoppedPropagationRef:x,required:m,defaultChecked:!E(g)&&g,isFormControl:y,bubbleInput:v,setBubbleInput:w};return(0,b.jsx)(u,{scope:d,...z,children:"function"==typeof o?o(z):f})}var x="CheckboxTrigger",y=c.forwardRef(({__scopeCheckbox:a,onKeyDown:d,onClick:e,...f},g)=>{let{control:h,value:k,disabled:l,checked:m,required:n,setControl:o,setChecked:p,hasConsumerStoppedPropagationRef:r,isFormControl:s,bubbleInput:t}=v(x,a),u=(0,i.useComposedRefs)(g,o),w=c.useRef(m);return c.useEffect(()=>{let a=h?.form;if(a){let b=()=>p(w.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[h,p]),(0,b.jsx)(q.button,{type:"button",role:"checkbox","aria-checked":E(m)?"mixed":m,"aria-required":n,"data-state":F(m),"data-disabled":l?"":void 0,disabled:l,value:k,...f,ref:u,onKeyDown:(0,j.composeEventHandlers)(d,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,j.composeEventHandlers)(e,a=>{p(a=>!!E(a)||!a),t&&s&&(r.current=a.isPropagationStopped(),r.current||a.stopPropagation())})})});y.displayName=x;var z=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,b.jsx)(w,{__scopeCheckbox:d,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y,{...m,ref:c,__scopeCheckbox:d}),a&&(0,b.jsx)(D,{__scopeCheckbox:d})]})})});z.displayName=r;var A="CheckboxIndicator",B=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=v(A,d);return(0,b.jsx)(n.Presence,{present:e||E(g.checked)||!0===g.checked,children:(0,b.jsx)(q.span,{"data-state":F(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});B.displayName=A;var C="CheckboxBubbleInput",D=c.forwardRef(({__scopeCheckbox:a,...d},e)=>{let{control:f,hasConsumerStoppedPropagationRef:g,checked:h,defaultChecked:j,required:k,disabled:n,name:o,value:p,form:r,bubbleInput:s,setBubbleInput:t}=v(C,a),u=(0,i.useComposedRefs)(e,t),w=(0,l.usePrevious)(h),x=(0,m.useSize)(f);c.useEffect(()=>{if(!s)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!g.current;if(w!==h&&a){let c=new Event("click",{bubbles:b});s.indeterminate=E(h),a.call(s,!E(h)&&h),s.dispatchEvent(c)}},[s,w,h,g]);let y=c.useRef(!E(h)&&h);return(0,b.jsx)(q.input,{type:"checkbox","aria-hidden":!0,defaultChecked:j??y.current,required:k,disabled:n,name:o,value:p,form:r,...d,tabIndex:-1,ref:u,style:{...d.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function E(a){return"indeterminate"===a}function F(a){return E(a)?"indeterminate":a?"checked":"unchecked"}D.displayName=C;var G=a.i(6406),H=a.i(68114);function I({className:a,...c}){return(0,b.jsx)(z,{"data-slot":"checkbox",className:(0,H.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(B,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,b.jsx)(G.CheckIcon,{className:"size-3.5"})})})}var J=a.i(86304),K=a.i(29246),L=Symbol("radix.slottable");function M(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===L}var N=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{var e,f;let g,h,j,k=(f=e=`Primitive.${d}`,(g=c.forwardRef((a,b)=>{let{children:d,...e}=a;if(c.isValidElement(d)){var f;let a,g,h=(f=d,(g=(a=Object.getOwnPropertyDescriptor(f.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.ref:(g=(a=Object.getOwnPropertyDescriptor(f,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.props.ref:f.props.ref||f.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(e,d.props);return d.type!==c.Fragment&&(j.ref=b?(0,i.composeRefs)(b,h):h),c.cloneElement(d,j)}return c.Children.count(d)>1?c.Children.only(null):null})).displayName=`${f}.SlotClone`,h=g,(j=c.forwardRef((a,d)=>{let{children:e,...f}=a,g=c.Children.toArray(e),i=g.find(M);if(i){let a=i.props.children,e=g.map(b=>b!==i?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(h,{...f,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(h,{...f,ref:d,children:e})})).displayName=`${e}.Slot`,j),l=c.forwardRef((a,c)=>{let{asChild:e,...f}=a;return(0,b.jsx)(e?k:d,{...f,ref:c})});return l.displayName=`Primitive.${d}`,{...a,[d]:l}},{}),O="Switch",[P,Q]=function(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f),h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}(O),[R,S]=P(O),T=c.forwardRef((a,d)=>{let{__scopeSwitch:e,name:f,checked:g,defaultChecked:h,required:l,disabled:m,value:n="on",onCheckedChange:o,form:p,...q}=a,[r,s]=c.useState(null),t=(0,i.useComposedRefs)(d,a=>s(a)),u=c.useRef(!1),v=!r||p||!!r.closest("form"),[w,x]=(0,k.useControllableState)({prop:g,defaultProp:h??!1,onChange:o,caller:O});return(0,b.jsxs)(R,{scope:e,checked:w,disabled:m,children:[(0,b.jsx)(N.button,{type:"button",role:"switch","aria-checked":w,"aria-required":l,"data-state":X(w),"data-disabled":m?"":void 0,disabled:m,value:n,...q,ref:t,onClick:(0,j.composeEventHandlers)(a.onClick,a=>{x(a=>!a),v&&(u.current=a.isPropagationStopped(),u.current||a.stopPropagation())})}),v&&(0,b.jsx)(W,{control:r,bubbles:!u.current,name:f,value:n,checked:w,required:l,disabled:m,form:p,style:{transform:"translateX(-100%)"}})]})});T.displayName=O;var U="SwitchThumb",V=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=S(U,d);return(0,b.jsx)(N.span,{"data-state":X(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});V.displayName=U;var W=c.forwardRef(({__scopeSwitch:a,control:d,checked:e,bubbles:f=!0,...g},h)=>{let j=c.useRef(null),k=(0,i.useComposedRefs)(j,h),n=(0,l.usePrevious)(e),o=(0,m.useSize)(d);return c.useEffect(()=>{let a=j.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[n,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:k,style:{...g.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function X(a){return a?"checked":"unchecked"}function Y({className:a,...c}){return(0,b.jsx)(T,{"data-slot":"switch",className:(0,H.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(V,{"data-slot":"switch-thumb",className:(0,H.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}W.displayName="SwitchBubbleInput";var Z=a.i(14574),$=a.i(23292),_=a.i(15618),aa=a.i(70106);let ab=(0,aa.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var ac=a.i(92759);let ad=(0,aa.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ae=(0,aa.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),af=(0,aa.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ag=[{value:"case.created",label:"Case Created"},{value:"case.updated",label:"Case Updated"},{value:"case.status_changed",label:"Status Changed"},{value:"case.assigned",label:"Case Assigned"},{value:"case.resolved",label:"Case Resolved"},{value:"case.closed",label:"Case Closed"},{value:"case.note_added",label:"Note Added"}];function ah(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)({}),[p,q]=(0,c.useState)({name:"",url:"",description:"",events:[],isActive:!0});(0,c.useEffect)(()=>{r()},[]);let r=async()=>{try{let a=await fetch("/api/webhooks");if(!a.ok)throw Error("Failed to fetch");let b=await a.json();i(b)}catch(a){$.toast.error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸” webhooks à¹„à¸”à¹‰")}finally{k(!1)}},s=async()=>{if(!p.name||!p.url)return void $.toast.error("à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸–à¹‰à¸§à¸™");try{let b=await fetch("/api/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!b.ok)throw Error("Failed to create");let c=await b.json();$.toast.success("à¸ªà¸£à¹‰à¸²à¸‡ Webhook à¸ªà¸³à¹€à¸£à¹‡à¸ˆ",{description:"à¸„à¸±à¸”à¸¥à¸­à¸ Secret à¹€à¸à¹‡à¸šà¹„à¸§à¹‰à¹ƒà¸™à¸£à¸°à¸šà¸šà¸›à¸¥à¸²à¸¢à¸—à¸²à¸‡"}),i([c,...a]),m(!1),q({name:"",url:"",description:"",events:[],isActive:!0})}catch(a){$.toast.error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¸£à¹‰à¸²à¸‡ Webhook à¹„à¸”à¹‰")}},t=async b=>{if(confirm("à¸„à¸¸à¸“à¹à¸™à¹ˆà¹ƒà¸ˆà¸§à¹ˆà¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸š Webhook à¸™à¸µà¹‰?"))try{if(!(await fetch(`/api/webhooks/${b}`,{method:"DELETE"})).ok)throw Error("Failed to delete");$.toast.success("à¸¥à¸š Webhook à¸ªà¸³à¹€à¸£à¹‡à¸ˆ"),i(a.filter(a=>a.id!==b))}catch(a){$.toast.error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸š Webhook à¹„à¸”à¹‰")}},u=async a=>{$.toast.loading("à¸à¸³à¸¥à¸±à¸‡à¸ªà¹ˆà¸‡ test webhook...");try{let b=await fetch(`/api/webhooks/${a}/test`,{method:"POST"}),c=await b.json();$.toast.dismiss(),c.success?$.toast.success("Test Webhook à¸ªà¸³à¹€à¸£à¹‡à¸ˆ",{description:`Status: ${c.statusCode}`}):$.toast.error("Test Webhook à¸¥à¹‰à¸¡à¹€à¸«à¸¥à¸§",{description:c.error}),r()}catch(a){$.toast.dismiss(),$.toast.error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸—à¸”à¸ªà¸­à¸š Webhook à¹„à¸”à¹‰")}},v=async(a,b)=>{try{if(!(await fetch(`/api/webhooks/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:b})})).ok)throw Error("Failed to update");$.toast.success(b?"à¹€à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Webhook à¹à¸¥à¹‰à¸§":"à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Webhook à¹à¸¥à¹‰à¸§"),r()}catch(a){$.toast.error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¸±à¸žà¹€à¸”à¸—à¸ªà¸–à¸²à¸™à¸°à¹„à¸”à¹‰")}};return j?(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsx)(d.Header,{}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("div",{className:"text-center py-12",children:"Loading..."})})]}):(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsx)(d.Header,{}),(0,b.jsxs)("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Webhooks"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"à¸ªà¹ˆà¸‡ event notifications à¹„à¸›à¸¢à¸±à¸‡à¸£à¸°à¸šà¸šà¸ à¸²à¸¢à¸™à¸­à¸"})]}),(0,b.jsxs)(Z.Dialog,{open:l,onOpenChange:m,children:[(0,b.jsx)(Z.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{children:[(0,b.jsx)(_.Plus,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})}),(0,b.jsxs)(Z.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(Z.DialogHeader,{children:[(0,b.jsx)(Z.DialogTitle,{children:"Create New Webhook"}),(0,b.jsx)(Z.DialogDescription,{children:"à¹€à¸žà¸´à¹ˆà¸¡ webhook endpoint à¹ƒà¸«à¸¡à¹ˆà¹€à¸žà¸·à¹ˆà¸­à¸£à¸±à¸š event notifications"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Name *"}),(0,b.jsx)(f.Input,{placeholder:"Production API",value:p.name,onChange:a=>q({...p,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"URL *"}),(0,b.jsx)(f.Input,{placeholder:"https://api.example.com/webhooks",value:p.url,onChange:a=>q({...p,url:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Description"}),(0,b.jsx)(K.Textarea,{placeholder:"Optional description...",value:p.description,onChange:a=>q({...p,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Events to Subscribe"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3 p-4 border rounded-lg",children:ag.map(a=>(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(I,{id:a.value,checked:p.events.includes(a.value),onCheckedChange:b=>{b?q({...p,events:[...p.events,a.value]}):q({...p,events:p.events.filter(b=>b!==a.value)})}}),(0,b.jsx)("label",{htmlFor:a.value,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:a.label})]},a.value))})]})]}),(0,b.jsxs)(Z.DialogFooter,{children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,b.jsx)(e.Button,{onClick:s,children:"Create Webhook"})]})]})]})]}),0===a.length?(0,b.jsx)(h.Card,{children:(0,b.jsxs)(h.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ Webhook à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹„à¸§à¹‰"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"à¹€à¸žà¸´à¹ˆà¸¡ Webhook à¹€à¸žà¸·à¹ˆà¸­à¸£à¸±à¸š event notifications"})]})}):(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-lg",children:a.name}),(0,b.jsx)(J.Badge,{variant:a.isActive?"default":"secondary",children:a.isActive?"Active":"Inactive"}),a.failureCount>0&&(0,b.jsxs)(J.Badge,{variant:"destructive",children:[a.failureCount," failures"]})]}),(0,b.jsx)(h.CardDescription,{className:"font-mono text-xs",children:a.url}),a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(Y,{checked:a.isActive,onCheckedChange:b=>v(a.id,b)}),(0,b.jsx)(e.Button,{size:"sm",variant:"outline",onClick:()=>u(a.id),children:(0,b.jsx)(ac.Send,{className:"h-3 w-3"})}),(0,b.jsx)(e.Button,{size:"sm",variant:"destructive",onClick:()=>t(a.id),children:(0,b.jsx)(ab,{className:"h-3 w-3"})})]})]})}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Secret (for signature verification)"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Input,{readOnly:!0,type:n[a.id]?"text":"password",value:a.secret,className:"font-mono text-xs"}),(0,b.jsx)(e.Button,{size:"icon",variant:"outline",onClick:()=>{var b;return b=a.id,void o(a=>({...a,[b]:!a[b]}))},children:n[a.id]?(0,b.jsx)(af,{className:"h-4 w-4"}):(0,b.jsx)(ae,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{size:"icon",variant:"outline",onClick:()=>{var b;return b=a.secret,void(navigator.clipboard.writeText(b),$.toast.success("à¸„à¸±à¸”à¸¥à¸­à¸à¹à¸¥à¹‰à¸§"))},children:(0,b.jsx)(ad,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Subscribed Events"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.events.map(a=>(0,b.jsx)(J.Badge,{variant:"outline",children:a},a))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[a.lastSuccess&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last Success"}),(0,b.jsx)("p",{className:"text-sm",children:new Date(a.lastSuccess).toLocaleString()})]}),a.lastFailure&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last Failure"}),(0,b.jsx)("p",{className:"text-sm text-destructive",children:new Date(a.lastFailure).toLocaleString()})]})]})]})]},a.id))}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsx)(h.CardTitle,{children:"ðŸ“– Webhook Documentation"})}),(0,b.jsxs)(h.CardContent,{className:"space-y-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Signature Verification"}),(0,b.jsxs)("p",{className:"text-muted-foreground mb-2",children:["à¸—à¸¸à¸ webhook request à¸ˆà¸°à¸¡à¸µ header ",(0,b.jsx)("code",{children:"X-Webhook-Signature"})," ","à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™ HMAC SHA256 signature à¸‚à¸­à¸‡ request body"]}),(0,b.jsx)("pre",{className:"bg-muted p-3 rounded text-xs overflow-x-auto",children:`const crypto = require('crypto');

function verifySignature(body, signature, secret) {
  const hmac = crypto.createHmac('sha256', secret);
  hmac.update(body);
  const expectedSignature = hmac.digest('hex');
  return signature === expectedSignature;
}`})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Payload Structure"}),(0,b.jsx)("pre",{className:"bg-muted p-3 rounded text-xs overflow-x-auto",children:`{
  "event": "case.created",
  "timestamp": "2025-12-24T12:00:00.000Z",
  "data": {
    "caseId": "...",
    "caseNumber": "CASE-2025-0001",
    "title": "...",
    "status": "NEW",
    "severity": "NORMAL"
  }
}`})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Response Requirements"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["- à¸•à¹‰à¸­à¸‡ respond à¸ à¸²à¸¢à¹ƒà¸™ 10 à¸§à¸´à¸™à¸²à¸—à¸µ",(0,b.jsx)("br",{}),"- HTTP status code 2xx = success",(0,b.jsx)("br",{}),"- à¸­à¸·à¹ˆà¸™à¹† = failure à¹à¸¥à¸°à¸ˆà¸° retry à¸­à¸µà¸ 3 à¸„à¸£à¸±à¹‰à¸‡"]})]})]})]})]})]})}a.s(["default",()=>ah],73994)}];

//# sourceMappingURL=src_app_%28dashboard%29_settings_webhooks_page_tsx_317135a6._.js.map